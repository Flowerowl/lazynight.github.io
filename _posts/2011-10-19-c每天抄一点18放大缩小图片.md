---
title: 'C#每天抄一点(18):放大缩小图片'
author: Flowerowl
layout: post
permalink: /559.html
duoshuo_thread_id:
  - 1266861
views:
  - 1301
bot_views:
  - 3
categories:
  - 'C#'
  - 代码
---
  
<span style="color: #ff6600;">记</span>

今天早晨去回复留言，看见<span style="color: #ff6600;"><a href="http://muslc.org/" target="_blank"><span style="color: #ff6600;">心乐</span></a></span>的站，觉得很对胃口，于是连接上。没有推歌的心情已经持续了差不多将近4个月。想想上半年刚建站的时候，初衷是做一个分享音乐的小站，但是随着时间的推移，发现每天的精力已经被之占据多数，留言，回复，加链接，推广，等等一切和写代码无关的事情挤压在脑子里。趁暑假清空数据库，改个方向，多写点代码，这样就拿这里当个学习笔记吧。歌曲呢，想放松的时候会写几篇，现在每篇文章会插入一首精选的歌曲，也算是弥补了吧。愿那些曾经关注过我的朋友们能够体谅下。  
<img class="aligncenter size-full wp-image-560" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/0111019213634.jpg" alt="" width="827" height="542" />

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"> * 用户： Lazynight</span><br /> <span style="color: #696969;">04</span> <span style="color: #696969;"> * 日期: 2011/10/19</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #696969;"> * 时间: 20:57</span><br /> <span style="color: #696969;">06</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">07</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">08</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">09</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">10</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">11</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">13</span><br /> <span style="color: #696969;">14</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy18_</span><span style="color: #c0c0c0;">放大缩小图片</span><br /> <span style="color: #f810b0;">15</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">16</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">17</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">18</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #696969;">19</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">20</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">21</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">22</span><br /> <span style="color: #696969;">23</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button1Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">24</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">25</span>             <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">Lazy_name</span>;<br /> <span style="color: #696969;">26</span>             <span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Filter</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;*.jpg,*.jpeg,*.bmp,*.gif,*.ico,*.png,*.tif,*.wmf|*.jpg;*.jpeg;*.bmp;*.gif;*.ico;*.png;*.tif;*wmf&#8221;</span>;<br /> <span style="color: #696969;">27</span>             <span style="color: #696969;">//设置打开图像的类型</span><br /> <span style="color: #696969;">28</span>             <span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ShowDialog</span>();<span style="color: #696969;">//打开对话框</span><br /> <span style="color: #696969;">29</span>             <span style="color: #c0c0c0;">Lazy_name</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FileName</span>;<br /> <span style="color: #f810b0;">30</span>             <span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FromFile</span>(<span style="color: #c0c0c0;">Lazy_name</span>);<span style="color: #696969;">//显示打开图像</span><br /> <span style="color: #696969;">31</span><br /> <span style="color: #696969;">32</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">33</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button2Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">34</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">35</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">>=</span><span style="color: #c0c0c0;">50</span>)<br /> <span style="color: #696969;">36</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">37</span>                 <span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToInt32</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">0.8</span>);<br /> <span style="color: #696969;">38</span>                 <span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToInt32</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">0.8</span>);<br /> <span style="color: #696969;">39</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">40</span>             <span style="color: #ff4400; font-weight: bold;">else</span><br /> <span style="color: #696969;">41</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">42</span>                 <span style="color: #c0c0c0;">MessageBox</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Show</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;图像已经最小，不能在缩小了~&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;提示&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxButtons</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">OK</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxIcon</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Warning</span>);<br /> <span style="color: #696969;">43</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">44</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">45</span><br /> <span style="color: #696969;">46</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button3Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">47</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">48</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">4000</span>)<br /> <span style="color: #696969;">49</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">50</span>                 <span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToInt32</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">1.2</span>);<br /> <span style="color: #696969;">51</span>                 <span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToInt32</span>(<span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">1.2</span>);<br /> <span style="color: #696969;">52</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">53</span>             <span style="color: #ff4400; font-weight: bold;">else</span><br /> <span style="color: #696969;">54</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">55</span>                 <span style="color: #c0c0c0;">MessageBox</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Show</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;图像已经最大，不能在放大了~&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;提示&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxButtons</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">OK</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxIcon</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Warning</span>);<br /> <span style="color: #696969;">56</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">57</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">58</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">59</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy18_-653e-5927-7f29-5c0f-56fe-7247.rar/.page" target="_blank"><span style="color: #ff6600;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(18):放大缩小图片][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/559.html