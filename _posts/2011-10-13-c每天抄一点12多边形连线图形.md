---
title: 'C#每天抄一点(12):多边形连线图形'
author: Flowerowl
layout: post
permalink: /479.html
duoshuo_thread_id:
  - 1266847
views:
  - 920
bot_views:
  - 3
categories:
  - 'C#'
  - 代码
---
这节的内容有点意思，画一个多边形，很好玩~  
我会给示意图，表上各点的位置，希望可以帮大家理解。（这代码是抄的，不过可以学很多东西）

<img class="size-full wp-image-480 aligncenter" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111013203117.jpg" alt="" width="500" height="500" />

通过修改PointNum可以画出更多点的图形~但是不要忘了改x,y坐标的数组。

<img class="aligncenter size-full wp-image-484" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111013211531.jpg" alt="" width="500" height="500" />

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"> * 用户： Lazynight</span><br /> <span style="color: #696969;">04</span> <span style="color: #696969;"> * 日期: 2011/10/13</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #696969;"> * 时间: 20:31</span><br /> <span style="color: #696969;">06</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">07</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">08</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">09</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">10</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">11</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">13</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing.Drawing2D</span>;<br /> <span style="color: #696969;">14</span><br /> <span style="color: #f810b0;">15</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy12_</span><span style="color: #c0c0c0;">多边形连线图形</span><br /> <span style="color: #696969;">16</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">17</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">18</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">19</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #f810b0;">20</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">21</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">22</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">23</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Lazy_Draw</span>()<br /> <span style="color: #696969;">24</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">25</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">i</span>;<br /> <span style="color: #696969;">26</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">PointNum</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">20</span>;                        <span style="color: #696969;">//定义多边形的点数</span><br /> <span style="color: #696969;">27</span>             <span style="color: #ffffff;">float</span> <span style="color: #c0c0c0;">r</span>;                            <span style="color: #696969;">//多边形半径</span><br /> <span style="color: #696969;">28</span>             <span style="color: #ffffff;">float</span><span style="color: #c0c0c0;">[]</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffffff;">float</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">40</span><span style="color: #c0c0c0;">];</span>              <span style="color: #696969;">//点横坐标数组，大于等于PointNum个数</span><br /> <span style="color: #696969;">29</span>             <span style="color: #ffffff;">float</span><span style="color: #c0c0c0;">[]</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffffff;">float</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">40</span><span style="color: #c0c0c0;">];</span>          <span style="color: #696969;">//点纵坐标数组，大于等于PointNum个数</span><br /> <span style="color: #f810b0;">30</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ClientSize</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Size</span>(<span style="color: #c0c0c0;">500</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">500</span>);             <span style="color: #696969;">//工作区大小</span><br /> <span style="color: #696969;">31</span>             <span style="color: #c0c0c0;">r</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ClientSize</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span>;                      <span style="color: #696969;">//设定半径大小</span><br /> <span style="color: #696969;">32</span>             <span style="color: #c0c0c0;">Graphics</span> <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">CreateGraphics</span>();     <span style="color: #696969;">//创建Graphics对象实例    </span><br /> <span style="color: #696969;">33</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">PointNum</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">++)</span>                        <span style="color: #696969;">//循环给点坐标赋值</span><br /> <span style="color: #696969;">34</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">35</span>                 <span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">]=(</span><span style="color: #ffffff;">float</span>)(<span style="color: #c0c0c0;">r</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">Math</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Cos</span>(<span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">Math</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">PI</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">PointNum</span><span style="color: #c0c0c0;">)+</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ClientSize</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span>);<br /> <span style="color: #696969;">36</span>                 <span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">]=(</span><span style="color: #ffffff;">float</span>)(<span style="color: #c0c0c0;">r</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">Math</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Sin</span>(<span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">Math</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">PI</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">PointNum</span><span style="color: #c0c0c0;">)+</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ClientSize</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span>);<br /> <span style="color: #696969;">37</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">38</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">j</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">j</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">PointNum</span><span style="color: #c0c0c0;">-</span><span style="color: #c0c0c0;">1</span>;<span style="color: #c0c0c0;">j</span><span style="color: #c0c0c0;">++)</span>            <span style="color: #696969;">//嵌套循环画线，外嵌为PointNum-1个点的各点()，</span><br /> <span style="color: #696969;">39</span>                                                    <span style="color: #696969;">//内嵌为此点与其他PointNum个点的连线（包括自身）</span><br /> <span style="color: #f810b0;">40</span>             <span style="color: #c0c0c0;">{</span>                                      <span style="color: #696969;">//为什么只画PointNum-1个点呢？因为当画到最后一个点时，</span><br /> <span style="color: #696969;">41</span>                                                  <span style="color: #696969;">//最后一个点与各点的连线已经被之前的点画完。</span><br /> <span style="color: #696969;">42</span>                 <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">PointNum</span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">++)</span>     <span style="color: #696969;">//当然，PointNum可以设很大，不妨试试哦。</span><br /> <span style="color: #696969;">43</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">44</span>                     <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">DrawLine</span>(<span style="color: #c0c0c0;">Pens</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Red</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">j</span><span style="color: #c0c0c0;">],</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">j</span><span style="color: #c0c0c0;">],</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">],</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">]);</span><br /> <span style="color: #f810b0;">45</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">46</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">47</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">48</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">MainFormLoad</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">49</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">50</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">BackColor</span> <span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Color</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">White</span>;                <span style="color: #696969;">//设置窗体背景色为透明</span><br /> <span style="color: #696969;">51</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">TransparencyKey</span> <span style="color: #c0c0c0;">=</span> <span style="color: #c0c0c0;">Color</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">White</span>;<br /> <span style="color: #696969;">52</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">timer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Enabled</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">true</span>;                  <span style="color: #696969;">//通过Timer激活Lazy_Draw()</span><br /> <span style="color: #696969;">53</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">TopMost</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">true</span>;                         <span style="color: #696969;">//程序总在最前端</span><br /> <span style="color: #696969;">54</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">StartPosition</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">FormStartPosition</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">CenterScreen</span>;       <span style="color: #696969;">//窗体初始位置</span><br /> <span style="color: #f810b0;">55</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">56</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Timer1Tick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">57</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">58</span>             <span style="color: #c0c0c0;">Graphics</span> <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">CreateGraphics</span>();<br /> <span style="color: #696969;">59</span>             <span style="color: #c0c0c0;">Lazy_Draw</span>();<br /> <span style="color: #f810b0;">60</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">61</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">62</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy12_-591a-8fb9-5f62-8fde-7ebf-56fe-5f62.rar/.page" target="_blank"><span style="color: #ff6600;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(12):多边形连线图形][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/479.html