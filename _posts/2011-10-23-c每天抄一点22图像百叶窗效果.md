---
title: 'C#每天抄一点(22):图像百叶窗效果'
author: Flowerowl
layout: post
permalink: /624.html
duoshuo_thread_id:
  - 1266873
views:
  - 974
bot_views:
  - 2
categories:
  - 'C#'
  - 代码
---
&nbsp;

<img class="aligncenter size-full wp-image-625" title="Lazy22_图像百叶窗效果" src="http://lazynight.me/wp-content/uploads/2011/10/20111023121150.jpg" alt="" width="468" height="375" />

&nbsp;

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">001</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">002</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">003</span> <span style="color: #696969;"> * 用户： Lazynight</span><br /> <span style="color: #696969;">004</span> <span style="color: #696969;"> * 日期: 2011/10/23</span><br /> <span style="color: #f810b0;">005</span> <span style="color: #696969;"> * 时间: 10:42</span><br /> <span style="color: #696969;">006</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">007</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">008</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">009</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">010</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">011</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">012</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">013</span><br /> <span style="color: #696969;">014</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy22_</span><span style="color: #c0c0c0;">图像百叶窗效果</span><br /> <span style="color: #f810b0;">015</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">016</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">017</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">018</span>         <span style="color: #c0c0c0;">Bitmap</span> <span style="color: #c0c0c0;">Night_bitmap</span>;<br /> <span style="color: #696969;">019</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #f810b0;">020</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">021</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">022</span><br /> <span style="color: #696969;">023</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">024</span><br /> <span style="color: #f810b0;">025</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button1Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">026</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">027</span>             <span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Filter</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;*.jpg,*.jpeg,*.bmp,*.gif,*.ico,*.png,*.tif,*.wmf|*.jpg;*.jpeg;*.bmp;*.gif;*.ico;*.png;*.tif;*.wmf&#8221;</span>;<br /> <span style="color: #696969;">028</span>             <span style="color: #696969;">// 设置打开图像的类型</span><br /> <span style="color: #696969;">029</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ShowDialog</span>();<span style="color: #696969;">//显示对话框</span><br /> <span style="color: #f810b0;">030</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FileName</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Trim</span><span style="color: #c0c0c0;">()==</span><span style="color: #d13800;">&#8220;&#8221;</span>)<br /> <span style="color: #696969;">031</span>             <span style="color: #ff4400; font-weight: bold;">return</span>;<br /> <span style="color: #696969;">032</span>             <span style="color: #ff4400; font-weight: bold;">try</span><br /> <span style="color: #696969;">033</span>             <span style="color: #c0c0c0;">{</span>    <span style="color: #696969;">//把打开的图像赋给Bitmap变量</span><br /> <span style="color: #696969;">034</span>                 <span style="color: #c0c0c0;">Bitmap</span> <span style="color: #c0c0c0;">Lazy_bitmap</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Bitmap</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FileName</span>);<br /> <span style="color: #f810b0;">035</span>                 <span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Bitmap</span>(<span style="color: #c0c0c0;">Lazy_bitmap</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span>);<br /> <span style="color: #696969;">036</span>                 <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Night_bitmap</span>;<span style="color: #696969;">//显示图像</span><br /> <span style="color: #696969;">037</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">038</span>             <span style="color: #ff4400; font-weight: bold;">catch</span><br /> <span style="color: #696969;">039</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">040</span>                 <span style="color: #696969;">//提示</span><br /> <span style="color: #696969;">041</span>                 <span style="color: #c0c0c0;">MessageBox</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Show</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;打开图像文件错误~&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #d13800;">&#8220;提示&#8221;</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxButtons</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">OK</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">MessageBoxIcon</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Information</span>);<br /> <span style="color: #696969;">042</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">043</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">044</span><br /> <span style="color: #f810b0;">045</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button2Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">046</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">047</span>             <span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">=(</span><span style="color: #c0c0c0;">Bitmap</span>)<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Clone</span>();<br /> <span style="color: #696969;">048</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_ph</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">20</span>;<span style="color: #696969;">//将图像高度均分为20分</span><br /> <span style="color: #696969;">049</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_pw</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span>;<span style="color: #696969;">//宽度不分</span><br /> <span style="color: #f810b0;">050</span>             <span style="color: #c0c0c0;">Graphics</span> <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">CreateGraphics</span>();<span style="color: #696969;">//定义Graphics对象实例</span><br /> <span style="color: #696969;">051</span>             <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Clear</span>(<span style="color: #c0c0c0;">Color</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Black</span>);<span style="color: #696969;">//初始化黑色</span><br /> <span style="color: #696969;">052</span>             <span style="color: #c0c0c0;">Point</span><span style="color: #c0c0c0;">[]</span> <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">20</span><span style="color: #c0c0c0;">];</span><span style="color: #696969;">//定义点数组</span><br /> <span style="color: #696969;">053</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">20</span>;<span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">054</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">055</span>                 <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<br /> <span style="color: #696969;">056</span>                 <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_ph</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">y</span>;<br /> <span style="color: #696969;">057</span>                 <span style="color: #696969;">//此为20个小矩形的左顶点</span><br /> <span style="color: #696969;">058</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">059</span>             <span style="color: #c0c0c0;">Bitmap</span> <span style="color: #c0c0c0;">Day_bitmap</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Bitmap</span>(<span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span>);<br /> <span style="color: #f810b0;">060</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">Lazy_ph</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">061</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">062</span>                 <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">20</span>;<span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">063</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">064</span>                     <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">Lazy_pw</span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #f810b0;">065</span>                     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">066</span>                         <span style="color: #c0c0c0;">Day_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SetPixel</span>(<span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetPixel</span>(<span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">i</span>));<br /> <span style="color: #696969;">067</span>                         <span style="color: #696969;">//每一行自左向右填充每个点的像素，重复图形宽度大小的次数</span><br /> <span style="color: #696969;">068</span>                     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">069</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">070</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Refresh</span>();<span style="color: #696969;">//刷新图像</span><br /> <span style="color: #696969;">071</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Day_bitmap</span>;<br /> <span style="color: #696969;">072</span>             <span style="color: #c0c0c0;">System</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Threading</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Thread</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Sleep</span>(<span style="color: #c0c0c0;">100</span>);<br /> <span style="color: #696969;">073</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">074</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">075</span><br /> <span style="color: #696969;">076</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button3Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">077</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">078</span>             <span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">=(</span><span style="color: #c0c0c0;">Bitmap</span>)<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Clone</span>();<br /> <span style="color: #696969;">079</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_ph</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span>;<span style="color: #696969;">//高度不分</span><br /> <span style="color: #f810b0;">080</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_pw</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">30</span>;<span style="color: #696969;">//将图像宽度均分为30分</span><br /> <span style="color: #696969;">081</span>             <span style="color: #c0c0c0;">Graphics</span> <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">CreateGraphics</span>();<span style="color: #696969;">//定义Graphics对象实例</span><br /> <span style="color: #696969;">082</span>             <span style="color: #c0c0c0;">Lazy_pic</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Clear</span>(<span style="color: #c0c0c0;">Color</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Black</span>);<span style="color: #696969;">//初始化黑色</span><br /> <span style="color: #696969;">083</span>             <span style="color: #c0c0c0;">Point</span><span style="color: #c0c0c0;">[]</span> <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">30</span><span style="color: #c0c0c0;">];</span><span style="color: #696969;">//定义点数组</span><br /> <span style="color: #696969;">084</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">30</span>;<span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #f810b0;">085</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">086</span>                 <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<br /> <span style="color: #696969;">087</span>                 <span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_pw</span><span style="color: #c0c0c0;">*</span><span style="color: #c0c0c0;">x</span>;<br /> <span style="color: #696969;">088</span>                 <span style="color: #696969;">//此为30个小矩形的左顶点</span><br /> <span style="color: #696969;">089</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">090</span>             <span style="color: #c0c0c0;">Bitmap</span> <span style="color: #c0c0c0;">Day_bitmap</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Bitmap</span>(<span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span>);<br /> <span style="color: #696969;">091</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">Lazy_pw</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">092</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">093</span>                 <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">30</span>;<span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">094</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">095</span>                     <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">Lazy_ph</span>;<span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">096</span>                     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">097</span>                         <span style="color: #c0c0c0;">Day_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SetPixel</span>(<span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">k</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Night_bitmap</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetPixel</span>(<span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">X</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">Lazy_point</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">].</span><span style="color: #c0c0c0;">Y</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">k</span>));<br /> <span style="color: #696969;">098</span>                         <span style="color: #696969;">//每一行自上向下填充每个点的像素，重复图形高度大小的次数</span><br /> <span style="color: #696969;">099</span>                     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">100</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">101</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Refresh</span>();<span style="color: #696969;">//刷新图像</span><br /> <span style="color: #696969;">102</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">pictureBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Image</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Day_bitmap</span>;<br /> <span style="color: #696969;">103</span>             <span style="color: #c0c0c0;">System</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Threading</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Thread</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Sleep</span>(<span style="color: #c0c0c0;">100</span>);<br /> <span style="color: #696969;">104</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">105</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">106</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">107</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy22_-56fe-50cf-767e-53f6-7a97-6548-679c.rar/.page" target="_blank"><span style="color: #ff6600;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(22):图像百叶窗效果][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/624.html