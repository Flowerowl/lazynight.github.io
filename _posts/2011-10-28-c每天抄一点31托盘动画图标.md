---
title: 'C#每天抄一点(31):托盘动画图标'
author: Flowerowl
layout: post
permalink: /717.html
duoshuo_thread_id:
  - 1266892
views:
  - 841
bot_views:
  - 5
categories:
  - 'C#'
  - 代码
---
  
<span style="color: #ff6600;">11.11.11-!  每年只等周杰伦</span>

<span style="color: #ff6600;">NotifyIcon 类</span>

指定在通知区域中创建图标的组件。无法继承此类。

命名空间： System.Windows.Forms

程序集： System.Windows.Forms（在 System.Windows.Forms.dll 中）

通知区域中的图标是一些进程的快捷方式，这些进程在计算机后台运行，如防病毒程序或音量控制。 这些进程不会具有自己的用户界面。 NotifyIcon 类提供了编写此功能的方法。 Icon 属性定义显示在通知区域中的图标。 图标的弹出菜单由 ContextMenu 属性确定。 Text 属性分配工具提示文本。 要在通知区域中显示图标，必须将 Visible 属性设置为 true。

<span style="color: #ff0000;"><a href="http://msdn.microsoft.com/zh-cn/library/system.windows.forms.notifyicon(v=VS.100).aspx" target="_blank"><span style="color: #ff0000;">NotifyIcon详情 (带老子去MSDN)</span></a></span>

<img class="aligncenter size-full wp-image-720" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111029075108.jpg" alt="" width="202" height="150" /><img class="size-full wp-image-721 aligncenter" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111029075240.jpg" alt="" width="194" height="162" />

&nbsp;

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"> * 用户： Lazynight</span><br /> <span style="color: #696969;">04</span> <span style="color: #696969;"> * 日期: 2011/10/29</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #696969;"> * 时间: 6:30</span><br /> <span style="color: #696969;">06</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">07</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">08</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">09</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">10</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">11</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">13</span><br /> <span style="color: #696969;">14</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy31_</span><span style="color: #c0c0c0;">托盘动画图标</span><br /> <span style="color: #f810b0;">15</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">16</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">17</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">18</span>         <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">1</span>;<br /> <span style="color: #696969;">19</span>         <span style="color: #696969;">//设置动态图标开关，如果是两个ico可以用Boolean变量。</span><br /> <span style="color: #f810b0;">20</span>         <span style="color: #c0c0c0;">Icon</span> <span style="color: #c0c0c0;">Lazy_icon1</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Icon</span>(<span style="color: #d13800;">&#8220;Lazy_icon1.ico&#8221;</span>);<br /> <span style="color: #696969;">21</span>         <span style="color: #c0c0c0;">Icon</span> <span style="color: #c0c0c0;">Lazy_icon2</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Icon</span>(<span style="color: #d13800;">&#8220;Lazy_icon2.ico&#8221;</span>);<br /> <span style="color: #696969;">22</span>         <span style="color: #c0c0c0;">Icon</span> <span style="color: #c0c0c0;">Lazy_icon3</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Icon</span>(<span style="color: #d13800;">&#8220;Lazy_icon3.ico&#8221;</span>);<br /> <span style="color: #696969;">23</span>         <span style="color: #696969;">//实例化，引入文件。</span><br /> <span style="color: #696969;">24</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #f810b0;">25</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">26</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">27</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">28</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #c0c0c0;">隐藏窗体</span><span style="color: #c0c0c0;">ToolStripMenuItemClick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">29</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">30</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Hide</span>();<br /> <span style="color: #696969;">31</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">32</span><br /> <span style="color: #696969;">33</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #c0c0c0;">显示窗体</span><span style="color: #c0c0c0;">ToolStripMenuItemClick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">34</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">35</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Show</span>();<br /> <span style="color: #696969;">36</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">37</span><br /> <span style="color: #696969;">38</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #c0c0c0;">动态托盘</span><span style="color: #c0c0c0;">ToolStripMenuItemClick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">39</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">40</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">timer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Enabled</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">true</span>;<br /> <span style="color: #696969;">41</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">42</span><br /> <span style="color: #696969;">43</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #c0c0c0;">静态托盘</span><span style="color: #c0c0c0;">ToolStripMenuItemClick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">44</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">45</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">timer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Enabled</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">false</span>;<br /> <span style="color: #696969;">46</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">47</span><br /> <span style="color: #696969;">48</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #c0c0c0;">退出程序</span><span style="color: #c0c0c0;">ToolStripMenuItemClick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">49</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">50</span>             <span style="color: #c0c0c0;">Application</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Exit</span>();<br /> <span style="color: #696969;">51</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">52</span><br /> <span style="color: #696969;">53</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button1Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">54</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">55</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Hide</span>();<br /> <span style="color: #696969;">56</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">57</span><br /> <span style="color: #696969;">58</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button2Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">59</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">60</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Show</span>();<br /> <span style="color: #696969;">61</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">62</span><br /> <span style="color: #696969;">63</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button3Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">64</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">65</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">timer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Enabled</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">true</span>;<br /> <span style="color: #696969;">66</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">67</span><br /> <span style="color: #696969;">68</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button4Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">69</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">70</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">timer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Enabled</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">false</span>;<br /> <span style="color: #696969;">71</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">72</span><br /> <span style="color: #696969;">73</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Timer1Tick</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">74</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">75</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">Lazy_icon1</span><span style="color: #c0c0c0;">!=</span><span style="color: #ff4400; font-weight: bold;">null</span><span style="color: #c0c0c0;">&&</span><span style="color: #c0c0c0;">Lazy_icon2</span><span style="color: #c0c0c0;">!=</span><span style="color: #ff4400; font-weight: bold;">null</span><span style="color: #c0c0c0;">&&</span><span style="color: #c0c0c0;">Lazy_icon3</span><span style="color: #c0c0c0;">!=</span><span style="color: #ff4400; font-weight: bold;">null</span>)<br /> <span style="color: #696969;">76</span>                 <span style="color: #696969;">//如果三个图标都载入正确</span><br /> <span style="color: #696969;">77</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">78</span><br /> <span style="color: #696969;">79</span>                 <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">==</span><span style="color: #c0c0c0;">1</span>)<br /> <span style="color: #f810b0;">80</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">81</span>                     <span style="color: #c0c0c0;">notifyIcon1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Icon</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_icon1</span>;<br /> <span style="color: #696969;">82</span>                     <span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">2</span>;<br /> <span style="color: #696969;">83</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">84</span>                 <span style="color: #ff4400; font-weight: bold;">else</span> <span style="color: #ffff00;">if</span>(<span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">==</span><span style="color: #c0c0c0;">2</span>)<br /> <span style="color: #f810b0;">85</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">86</span>                     <span style="color: #c0c0c0;">notifyIcon1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Icon</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_icon2</span>;<br /> <span style="color: #696969;">87</span>                     <span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">3</span>;<br /> <span style="color: #696969;">88</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">89</span>                 <span style="color: #ff4400; font-weight: bold;">else</span><br /> <span style="color: #f810b0;">90</span>                 <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">91</span>                     <span style="color: #c0c0c0;">notifyIcon1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Icon</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_icon3</span>;<br /> <span style="color: #696969;">92</span>                     <span style="color: #c0c0c0;">Lazy_flag</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">1</span>;<br /> <span style="color: #696969;">93</span>                 <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">94</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">95</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">96</span><br /> <span style="color: #696969;">97</span><br /> <span style="color: #696969;">98</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">99</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy31_-6258-76d8-52a8-753b-56fe-6807.rar/.page" target="_blank"><span style="color: #ff6600;"> 下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(31):托盘动画图标][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/717.html