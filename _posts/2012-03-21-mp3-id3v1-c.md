---
title: MP3 ID3V1 (C)
author: Flowerowl
layout: post
permalink: /1672.html
duoshuo_thread_id:
  - 1266990
views:
  - 605
bot_views:
  - 2
categories:
  - 代码
tags:
  - ID3V1
---
  
<span style="color: #ff4040;"><span style="color: #ff4040;">背景音乐：空のように 海のように</span></span>  
最近刚淘到的一首歌，很喜欢，希望你也一样。

(现在是晚上11：30，窗外在下小雨，这意境，神怡。)

* * *

由于最近需要用到C，复习一下，发现当初晦涩的C语言如今变得是那么灵秀，像个姑娘。  
复习一下指针，我用MP3的结构来动手，没办法，喜音乐。  
<span style="color: #ff4040;">运行：</span>  
<img class="aligncenter size-full wp-image-1674" title="MP3 ID3V1" src="http://lazynight.me/wp-content/uploads/2012/03/MP3-ID3V1.gif" alt="" width="469" height="299" />  
<span style="color: #ff4040;">MP3  ID3V1结构如下：</span>

<div style="background: #fdfdfd; color: black;">
</div>

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;">
  <span style="color: #99968b; font-style: italic;">01</span> <span style="color: #8ac6f2;">Public</span> <span style="color: #8ac6f2;">Structure</span> <span style="color: #f6f3e8;">ID3v1Info</span><br /> <span style="color: #99968b; font-style: italic;">02</span><br /> <span style="color: #99968b; font-style: italic;">03</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">ID3v1TAG</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;TAG三个字母，ID3V1的标识</span><br /> <span style="color: #99968b; font-style: italic;">04</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Title</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储标题信息,30个字节</span><br /> <span style="color: #99968b; font-style: italic;">06</span><br /> <span style="color: #99968b; font-style: italic;">07</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Artist</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储歌手信息,30个字节</span><br /> <span style="color: #99968b; font-style: italic;">08</span><br /> <span style="color: #99968b; font-style: italic;">09</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Album</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储专辑信息,30个字节</span><br /> <span style="color: #f810b0;">10</span><br /> <span style="color: #99968b; font-style: italic;">11</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Year</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储年代信息,4个字节</span><br /> <span style="color: #99968b; font-style: italic;">12</span><br /> <span style="color: #99968b; font-style: italic;">13</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Comments</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储备注信息,28个字节（有时为30字节）</span><br /> <span style="color: #99968b; font-style: italic;">14</span><br /> <span style="color: #f810b0;">15</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Genre</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;存储音乐风格信息,保留位，1个字节　</span><br /> <span style="color: #99968b; font-style: italic;">16</span><br /> <span style="color: #99968b; font-style: italic;">17</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Reserved</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;保留位，1个字节(有时没有）</span><br /> <span style="color: #99968b; font-style: italic;">18</span><br /> <span style="color: #99968b; font-style: italic;">19</span> <span style="color: #8ac6f2;">Dim</span> <span style="color: #f6f3e8;">Track</span> <span style="color: #f6f3e8;">As</span> <span style="color: #cae682;">String</span> <span style="color: #99968b; font-style: italic;">&#8216;音轨（曲号）保留位，1个字节（有时没有）</span><br /> <span style="color: #f810b0;">20</span><br /> <span style="color: #99968b; font-style: italic;">21</span> <span style="color: #8ac6f2;">End</span> <span style="color: #8ac6f2;">Structure</span>
</div>

<span style="color: #ff4040;">fread</span>

功 能: 从一个流中读数据

函数原型: size_t fread(void**buffer*,size_t*size*,size_t*count*,FILE**stream*);

参 数：

1.用于接收数据的地址（指针）（*buffer*）

2.单个元素的大小（size） ：单位是字节而不是位，例如读取一个int型数据就是4个字节

3.元素个数（*count*）

4.提供数据的文件指针（stream）

返回值：读取的元素的个数

<span style="color: #ff4040;">memcmp</span>

<div id="lemmaContent-0">
  <p>
    原型：int memcmp(const void *buf1, const void *buf2, unsigned int count);
  </p>
  
  <p>
    用法：#include <string.h>或#include<memory.h>
  </p>
  
  <p>
    功能：比较内存区域buf1和buf2的前count个字节。
  </p>
  
  <p>
    说明：
  </p>
  
  <p>
    当buf1<buf2时，返回值<0
  </p>
  
  <p>
    当buf1=buf2时，返回值=0
  </p>
  
  <p>
    当buf1>buf2时，返回值>0
  </p>
  
  <p>
    <span style="color: #ff4040;">源代码：</span>
  </p>
</div>

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;">
  <span style="color: #99968b; font-style: italic;">01</span> <span style="color: #e5786d;">#include <stdio.h></span><br /> <span style="color: #99968b; font-style: italic;">02</span> <span style="color: #e5786d;">#include <string.h></span><br /> <span style="color: #99968b; font-style: italic;">03</span> <span style="color: #e5786d;">#include <stdlib.h></span><br /> <span style="color: #99968b; font-style: italic;">04</span> <span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">*</span><span style="color: #f6f3e8;">genre</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">148</span><span style="color: #f6f3e8;">]</span><span style="color: #f6f3e8;">=</span><br /> <span style="color: #f810b0;">05</span>     <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">06</span>             <span style="color: #95e454; font-style: italic;">&#8220;Blues&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Classic Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Country&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Dance&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Disco&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Funk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Grunge&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Hip-Hop&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">07</span>             <span style="color: #95e454; font-style: italic;">&#8220;Jazz&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Metal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;New Age&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Oldies&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Other&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Pop&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;R&B&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Rap&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Reggae&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Rock&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">08</span>             <span style="color: #95e454; font-style: italic;">&#8220;Techno&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Industrial&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Alternative&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Ska&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Death Metal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Pranks&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Soundtrack&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">09</span>             <span style="color: #95e454; font-style: italic;">&#8220;Euro-Techno&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Ambient&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Trip Hop&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Vocal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Jazz Funk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Fusion&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Trance&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #f810b0;">10</span>             <span style="color: #95e454; font-style: italic;">&#8220;Classical&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Instrumental&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Acid&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;House&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Game&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Sound Clip&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Gospel&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Noise&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">11</span>             <span style="color: #95e454; font-style: italic;">&#8220;Alternative Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Bass&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Soul&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Punk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Space&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Meditative&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Instrumental Pop&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">12</span>             <span style="color: #95e454; font-style: italic;">&#8220;Instrumental Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Ethnic&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Gothic&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Darkwave&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Techno-Industrial&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Electronic&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">13</span>             <span style="color: #95e454; font-style: italic;">&#8220;Pop Folk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Eurodance&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Dream&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Southern Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Comedy&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Cult&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Gangsta&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Top 40&#8243;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">14</span>             <span style="color: #95e454; font-style: italic;">&#8220;Christian Rap&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Pop Funk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Jungle&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Native American&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Cabaret&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;New Wave&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #f810b0;">15</span>             <span style="color: #95e454; font-style: italic;">&#8220;Psychadelic&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Rave&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;ShowTunes&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Trailer&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Lo-Fi&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Tribal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Acid Punk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Acid Jazz&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">16</span>             <span style="color: #95e454; font-style: italic;">&#8220;Polka&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Retro&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Musical&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Rock & Roll&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Hard Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Folk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Folk Rock&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">17</span>             <span style="color: #95e454; font-style: italic;">&#8220;National Folk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Swing&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Fast Fusion&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Bebob&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Latin&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Revival&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Celtic&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">18</span>             <span style="color: #95e454; font-style: italic;">&#8220;Bluegrass&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Avantgarde&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Gothic Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Progressive Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Psychedelic Rock&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">19</span>             <span style="color: #95e454; font-style: italic;">&#8220;Symphonic Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Slow Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Big Band&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Chorus&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Easy Listening&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Acoustic&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #f810b0;">20</span>             <span style="color: #95e454; font-style: italic;">&#8220;Humour&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Speech&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Chanson&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Opera&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Chamber Music&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Sonata&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Symphony&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Booty Bass&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">21</span>             <span style="color: #95e454; font-style: italic;">&#8220;Primus&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Porn Groove&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Satire&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Slow Jam&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Club&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Tango&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Samba&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Folklore&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Ballad&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">22</span>             <span style="color: #95e454; font-style: italic;">&#8220;Power Ballad&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Rhytmic Soul&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Freestyle&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Duet&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Punk Rock&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Drum Solo&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;A Capella&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">23</span>             <span style="color: #95e454; font-style: italic;">&#8220;Euro House&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Dance Hall&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Goa&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Drum & Bass&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Club House&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Hardcore&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Terror&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">24</span>             <span style="color: #95e454; font-style: italic;">&#8220;Indie&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;BritPop&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Negerpunk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Polsk Punk&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Beat&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Christian Gangsta Rap&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #f810b0;">25</span>             <span style="color: #95e454; font-style: italic;">&#8220;Heavy Metal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Black Metal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Crossover&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Contemporary Christian&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Christian Rock&#8221;</span><span style="color: #f6f3e8;">,</span><br /> <span style="color: #99968b; font-style: italic;">26</span>             <span style="color: #95e454; font-style: italic;">&#8220;Merengue&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Salsa&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Trash Metal&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;Anime&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;JPop&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;SynthPop&#8221;</span><br /> <span style="color: #99968b; font-style: italic;">27</span>     <span style="color: #f6f3e8;">};</span><br /> <span style="color: #99968b; font-style: italic;">28</span> <span style="color: #cae682;">void</span> <span style="color: #cae682;">ID3V1</span>(<span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">path</span><span style="color: #f6f3e8;">[])</span><br /> <span style="color: #99968b; font-style: italic;">29</span> <span style="color: #f6f3e8;">{</span><br /> <span style="color: #f810b0;">30</span>     <span style="color: #cae682;">FILE</span> <span style="color: #f6f3e8;">*</span><span style="color: #f6f3e8;">fl</span>;<br /> <span style="color: #99968b; font-style: italic;">31</span>     <span style="color: #f6f3e8;">fl</span><span style="color: #f6f3e8;">=</span><span style="color: #f6f3e8;">fopen</span>(<span style="color: #f6f3e8;">path</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;r&#8221;</span>);<br /> <span style="color: #99968b; font-style: italic;">32</span>     <span style="color: #8ac6f2;">if</span>(<span style="color: #f6f3e8;">!</span><span style="color: #f6f3e8;">fl</span>)<br /> <span style="color: #99968b; font-style: italic;">33</span>     <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">34</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;Read failed.</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #f810b0;">35</span>         <span style="color: #f6f3e8;">exit</span>(<span style="color: #e5786d;"></span>);<br /> <span style="color: #99968b; font-style: italic;">36</span>     <span style="color: #f6f3e8;">}</span><br /> <span style="color: #99968b; font-style: italic;">37</span>     <span style="color: #f6f3e8;">fseek</span>(<span style="color: #f6f3e8;">fl</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">-</span><span style="color: #e5786d;">128</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">2</span>);<br /> <span style="color: #99968b; font-style: italic;">38</span>     <span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">*</span><span style="color: #f6f3e8;">str</span>;<br /> <span style="color: #99968b; font-style: italic;">39</span>     <span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">z</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">3</span><span style="color: #f6f3e8;">];</span><br /> <span style="color: #f810b0;">40</span>     <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">&</span><span style="color: #f6f3e8;">z</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">3</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">41</span>     <span style="color: #8ac6f2;">if</span>(<span style="color: #f6f3e8;">memcmp</span>(<span style="color: #f6f3e8;">&</span><span style="color: #f6f3e8;">z</span><span style="color: #f6f3e8;">,</span><span style="color: #95e454; font-style: italic;">&#8220;TAG&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">3</span>))<br /> <span style="color: #99968b; font-style: italic;">42</span>     <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">43</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;Read faild.</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">44</span>         <span style="color: #f6f3e8;">exit</span>(<span style="color: #e5786d;"></span>);<br /> <span style="color: #f810b0;">45</span>     <span style="color: #f6f3e8;">}</span><br /> <span style="color: #99968b; font-style: italic;">46</span>     <span style="color: #8ac6f2;">else</span><br /> <span style="color: #99968b; font-style: italic;">47</span>     <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">48</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">49</span>         <span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">=</span>(<span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">*</span>)<span style="color: #f6f3e8;">malloc</span>(<span style="color: #e5786d;">30</span><span style="color: #f6f3e8;">*</span><span style="color: #8ac6f2;">sizeof</span>(<span style="color: #cae682;">char</span>));<br /> <span style="color: #f810b0;">50</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">30</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">51</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;TITLE: %s</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span>);<br /> <span style="color: #99968b; font-style: italic;">52</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">30</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">53</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;ARTIST: %s</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span>);<br /> <span style="color: #99968b; font-style: italic;">54</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">30</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #f810b0;">55</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;ALBUM: %s</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span>);<br /> <span style="color: #99968b; font-style: italic;">56</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">4</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">57</span>         <span style="color: #8ac6f2;">if</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;"></span><span style="color: #f6f3e8;">]</span><span style="color: #f6f3e8;">!=</span><span style="color: #e5786d;"></span>)<br /> <span style="color: #99968b; font-style: italic;">58</span>         <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">59</span>             <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;YEAR: %c%c%c%c</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;"></span><span style="color: #f6f3e8;">],</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">],</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">2</span><span style="color: #f6f3e8;">],</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">3</span><span style="color: #f6f3e8;">]);</span><br /> <span style="color: #f810b0;">60</span>         <span style="color: #f6f3e8;">}</span><br /> <span style="color: #99968b; font-style: italic;">61</span>         <span style="color: #8ac6f2;">else</span><br /> <span style="color: #99968b; font-style: italic;">62</span>         <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">63</span>             <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;YEAR:</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">64</span>         <span style="color: #f6f3e8;">}</span><br /> <span style="color: #f810b0;">65</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">30</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">66</span>         <span style="color: #99968b; font-style: italic;">//printf(&#8220;COMMENTS: %s\n&#8221;,str);</span><br /> <span style="color: #99968b; font-style: italic;">67</span>         <span style="color: #8ac6f2;">if</span>((<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">28</span><span style="color: #f6f3e8;">]</span><span style="color: #f6f3e8;">==</span><span style="color: #e5786d;"></span>)<span style="color: #f6f3e8;">&&</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">29</span><span style="color: #f6f3e8;">]</span><span style="color: #f6f3e8;">!=</span><span style="color: #e5786d;"></span>)<br /> <span style="color: #99968b; font-style: italic;">68</span>         <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">69</span>             <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;TRACK: %d</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">29</span><span style="color: #f6f3e8;">]);</span><br /> <span style="color: #f810b0;">70</span>         <span style="color: #f6f3e8;">}</span><br /> <span style="color: #99968b; font-style: italic;">71</span>         <span style="color: #8ac6f2;">else</span><br /> <span style="color: #99968b; font-style: italic;">72</span>         <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">73</span>             <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;TRACK</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">74</span>         <span style="color: #f6f3e8;">}</span><br /> <span style="color: #f810b0;">75</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;COMMENTS: %s</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">str</span>);<br /> <span style="color: #99968b; font-style: italic;">76</span>         <span style="color: #f6f3e8;">fread</span>(<span style="color: #f6f3e8;">str</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #e5786d;">1</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">77</span>         <span style="color: #cae682;">int</span> <span style="color: #f6f3e8;">g</span><span style="color: #f6f3e8;">=</span>(<span style="color: #cae682;">int</span>)<span style="color: #f6f3e8;">*</span><span style="color: #f6f3e8;">str</span>;<br /> <span style="color: #99968b; font-style: italic;">78</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;GENRE:%s</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">genre</span><span style="color: #f6f3e8;">[</span><span style="color: #f6f3e8;">g</span><span style="color: #f6f3e8;">]);</span><br /> <span style="color: #99968b; font-style: italic;">79</span>         <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #f810b0;">80</span>         <span style="color: #f6f3e8;">free</span>(<span style="color: #f6f3e8;">str</span>);<br /> <span style="color: #99968b; font-style: italic;">81</span>     <span style="color: #f6f3e8;">}</span><br /> <span style="color: #99968b; font-style: italic;">82</span>     <span style="color: #f6f3e8;">fclose</span>(<span style="color: #f6f3e8;">fl</span>);<br /> <span style="color: #99968b; font-style: italic;">83</span><br /> <span style="color: #99968b; font-style: italic;">84</span> <span style="color: #f6f3e8;">}</span><br /> <span style="color: #f810b0;">85</span><br /> <span style="color: #99968b; font-style: italic;">86</span> <span style="color: #cae682;">void</span> <span style="color: #cae682;">main</span>()<br /> <span style="color: #99968b; font-style: italic;">87</span> <span style="color: #f6f3e8;">{</span><br /> <span style="color: #99968b; font-style: italic;">88</span>     <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;/////////////////////////////////////////////////</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">89</span>     <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;        LAZYNIGHT MP3 ID3V1 INFO</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #f810b0;">90</span>     <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;/////////////////////////////////////////////////</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">91</span>     <span style="color: #f6f3e8;">printf</span>(<span style="color: #95e454; font-style: italic;">&#8220;Please input the path and filename of your mp3 files.</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">&#8220;</span>);<br /> <span style="color: #99968b; font-style: italic;">92</span>     <span style="color: #cae682;">char</span> <span style="color: #f6f3e8;">path</span><span style="color: #f6f3e8;">[</span><span style="color: #e5786d;">100</span><span style="color: #f6f3e8;">];</span><br /> <span style="color: #99968b; font-style: italic;">93</span>     <span style="color: #f6f3e8;">scanf</span>(<span style="color: #95e454; font-style: italic;">&#8220;%s&#8221;</span><span style="color: #f6f3e8;">,</span><span style="color: #f6f3e8;">&</span><span style="color: #f6f3e8;">path</span>);<br /> <span style="color: #99968b; font-style: italic;">94</span>     <span style="color: #f6f3e8;">ID3V1</span>(<span style="color: #f6f3e8;">path</span>);<br /> <span style="color: #f810b0;">95</span> <span style="color: #f6f3e8;">}</span>
</div>

转载请注明：[于哲的博客][1] &raquo; [MP3 ID3V1 (C)][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/1672.html