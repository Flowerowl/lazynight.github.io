---
title: 设计模式(1):简单工厂模式
author: Flowerowl
layout: post
permalink: /2075.html
duoshuo_thread_id:
  - 2129998
views:
  - 768
bot_views:
  - 2
categories:
  - 设计模式
tags:
  - 简单工厂模式
  - 设计模式
---
从今开始学习[设计模式][1],研究如何编写更加规范的代码,还有分析优秀的编程思想。 本实例摘自《大话设计模式》一书。 通过实现一个简单计算器来探讨简单工场模式，用到面向对象的三大特性：封装，继承，多态。 &nbsp;

> 简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。

> 该模式中包含的角色及其职责

> <span style="color: #dd0000;">工厂（Creator）角色</span> 简单工厂模式的核心，它负责实现创建所有实例的内部逻辑。工厂类可以被外界直接调用，创建所需的产品对象。

> <span style="color: #dd0000;">抽象产品（Product）角色</span> 简单工厂模式所创建的所有对象的父类，它负责描述所有实例所共有的公共接口。

> <span style="color: #dd0000;">具体产品（Concrete Product）角色</span> 是简单工厂模式的创建目标，所有创建的对象都是充当这个角色的某个具体类的实例。

> <span style="color:#dd0000;">优点</span> 　　工厂类是整个模式的关键.包含了必要的逻辑判断,根据外界给定的信息,决定究竟应该创建哪个具体类的对象.通过使用工厂类,外界可以从直接创建具体产品对象的尴尬局面摆脱出来,仅仅需要负责&ldquo;消费&rdquo;对象就可以了。而不必管这些对象究竟如何创建及如何组织的．明确了各自的职责和权利，有利于整个软件体系结构的优化。

> <span style="color:#f00;">缺点</span> 　　由于工厂类集中了所有实例的创建逻辑，违反了高内聚责任分配原则，将全部创建逻辑集中到了一个工厂类中；它所能创建的类只能是事先考虑到的，如果需要添加新的类，则就需要改变工厂类了。 　　当系统中的具体产品类不断增多时候，可能会出现要求工厂类根据不同条件创建不同实例的需求．这种对条件的判断和对具体产品类型的判断交错在一起，很难避免模块功能的蔓延，对系统的维护和扩展非常不利； 　　这些缺点在工厂方法模式中得到了一定的克服。

> <span style="color:#f00;">使用场景</span> 　　工厂类负责创建的对象比较少； 　　客户只知道传入工厂类的参数，对于如何创建对象（逻辑）不关心； 　　由于简单工厂很容易违反高内聚责任分配原则，因此一般只在很简单的情况下应用。

&nbsp;

<span style="color: rgb(0, 0, 0); font-family: ����, Verdana, Arial; font-size: 15px; line-height: 24px; ">Class Diagram</span>： ![ClassView.gif][2]

代码：Operation

<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(249, 247, 237); ">
  <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Collections.Generic</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Linq</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Text</span>;</p> <p>
    <span style="color: rgb(0, 128, 0); font-weight: bold; ">namespace</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">LazyCourse</span><br /> <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 计算类</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
      </span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">abstract</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">Operation</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">private</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">_numberA</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">private</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">_numberB</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">NumberA</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">get</span> <span style="color: rgb(0, 0, 0); ">{</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">_numberA</span>; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">set</span> <span style="color: rgb(0, 0, 0); ">{</span> <span style="color: rgb(0, 0, 0); ">_numberA</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">value</span>; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">NumberB</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">get</span> <span style="color: rgb(0, 0, 0); ">{</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">_numberB</span>; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">set</span> <span style="color: rgb(0, 0, 0); ">{</span> <span style="color: rgb(0, 0, 0); ">_numberB</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">value</span>; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 返回计算结果</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
        </span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// <returns>result</returns></span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">virtual</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">GetResult</span>()<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">result</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 加法类</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
          </span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">OperationAdd</span> <span style="color: rgb(0, 0, 0); ">:</span> <span style="color: rgb(0, 0, 0); ">Operation</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">override</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">GetResult</span>()<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 0, 0); ">NumberA</span> <span style="color: rgb(0, 0, 0); ">+</span> <span style="color: rgb(0, 0, 0); ">NumberB</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">result</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 减法类</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
            </span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">OperationSub</span> <span style="color: rgb(0, 0, 0); ">:</span> <span style="color: rgb(0, 0, 0); ">Operation</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">override</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">GetResult</span>()<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 0, 0); ">NumberA</span> <span style="color: rgb(0, 0, 0); ">-</span> <span style="color: rgb(0, 0, 0); ">NumberB</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">result</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 乘法类</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
              </span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">OperationMul</span> <span style="color: rgb(0, 0, 0); ">:</span> <span style="color: rgb(0, 0, 0); ">Operation</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">override</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">GetResult</span>()<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 0, 0); ">NumberA</span> <span style="color: rgb(0, 0, 0); ">*</span> <span style="color: rgb(0, 0, 0); ">NumberB</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">result</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">///<br /> <summary> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// 除法类</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(128, 128, 128); ">/// </span></summary> <p>
                </span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">OperationDiv</span> <span style="color: rgb(0, 0, 0); ">:</span> <span style="color: rgb(0, 0, 0); ">Operation</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">override</span> <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">GetResult</span>()<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(48, 48, 144); font-weight: bold; ">double</span> <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">if</span> (<span style="color: rgb(0, 0, 0); ">NumberB</span> <span style="color: rgb(0, 0, 0); ">==</span> <span style="color: rgb(96, 0, 224); font-weight: bold; "></span>)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">throw</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">new</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">Exception</span>(<span style="background-color: rgb(255, 240, 240); ">"除数不能为0"</span>);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">result</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 0, 0); ">NumberA</span> <span style="color: rgb(0, 0, 0); ">/</span> <span style="color: rgb(0, 0, 0); ">NumberB</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">result</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> <span style="color: rgb(0, 0, 0); ">}</span></div> <p>
                  OperationFactory
                </p>
                
                <div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(249, 247, 237); ">
                  <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Collections.Generic</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Linq</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Text</span>;</p> <p>
                    <span style="color: rgb(0, 128, 0); font-weight: bold; ">namespace</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">LazyCourse</span><br /> <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">OperationFactory</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">public</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">static</span> <span style="color: rgb(0, 0, 0); ">Operation</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">createOperate</span>(<span style="color: rgb(48, 48, 144); font-weight: bold; ">string</span> <span style="color: rgb(0, 0, 0); ">operate</span>)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">Operation</span> <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">null</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">switch</span> (<span style="color: rgb(0, 0, 0); ">operate</span>)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span> <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">case</span> <span style="background-color: rgb(255, 240, 240); ">"+"</span><span style="color: rgb(0, 0, 0); ">:</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">new</span> <span style="color: rgb(0, 0, 0); ">OperationAdd</span>();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">break</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">case</span> <span style="background-color: rgb(255, 240, 240); ">"-"</span><span style="color: rgb(0, 0, 0); ">:</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">new</span> <span style="color: rgb(0, 0, 0); ">OperationSub</span>();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">break</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">case</span> <span style="background-color: rgb(255, 240, 240); ">"*"</span><span style="color: rgb(0, 0, 0); ">:</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">new</span> <span style="color: rgb(0, 0, 0); ">OperationMul</span>();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">break</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">case</span> <span style="background-color: rgb(255, 240, 240); ">"/"</span><span style="color: rgb(0, 0, 0); ">:</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">new</span> <span style="color: rgb(0, 0, 0); ">OperationDiv</span>();<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">break</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">return</span> <span style="color: rgb(0, 0, 0); ">oper</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> <span style="color: rgb(0, 0, 0); ">}</span></div> <p>
                      Program
                    </p>
                    
                    <div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: rgb(0, 0, 0); background-color: rgb(249, 247, 237); ">
                      <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Collections.Generic</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Linq</span>;<br /> <span style="color: rgb(0, 128, 0); font-weight: bold; ">using</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">System.Text</span>;</p> <p>
                        <span style="color: rgb(0, 128, 0); font-weight: bold; ">namespace</span> <span style="color: rgb(14, 132, 181); font-weight: bold; ">LazyCourse</span><br /> <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">class</span> <span style="color: rgb(176, 0, 96); font-weight: bold; ">Program</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 128, 0); font-weight: bold; ">static</span> <span style="color: rgb(0, 128, 0); font-weight: bold; ">void</span> <span style="color: rgb(0, 96, 176); font-weight: bold; ">Main</span>(<span style="color: rgb(48, 48, 144); font-weight: bold; ">string</span><span style="color: rgb(0, 0, 0); ">[]</span> <span style="color: rgb(0, 0, 0); ">args</span>) <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">{</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">Operation</span> <span style="color: rgb(0, 0, 0); ">oper</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(0, 0, 0); ">OperationFactory</span><span style="color: rgb(0, 0, 0); ">.</span><span style="color: rgb(0, 0, 0); ">createOperate</span>(<span style="background-color: rgb(255, 240, 240); ">"+"</span>);<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span><span style="color: rgb(0, 0, 0); ">.</span><span style="color: rgb(0, 0, 0); ">NumberA</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; ">100</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">oper</span><span style="color: rgb(0, 0, 0); ">.</span><span style="color: rgb(0, 0, 0); ">NumberB</span> <span style="color: rgb(0, 0, 0); ">=</span> <span style="color: rgb(96, 0, 224); font-weight: bold; ">120</span>;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">Console</span><span style="color: rgb(0, 0, 0); ">.</span><span style="color: rgb(0, 0, 0); ">WriteLine</span>(<span style="color: rgb(0, 0, 0); ">oper</span><span style="color: rgb(0, 0, 0); ">.</span><span style="color: rgb(0, 0, 0); ">GetResult</span>());<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 0, 0); ">}</span><br /> <span style="color: rgb(0, 0, 0); ">}</span></div> <p>
                          转载请注明：<a href="http://localhost/wordpress">于哲的博客</a> &raquo; <a href="http://localhost/wordpress/2075.html">设计模式(1):简单工厂模式</a>
                        </p>

 [1]: http://lazynight.me/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ "设计模式"
 [2]: http://lazynight.me/wp-content/uploads/2012/05/3589873769.gif