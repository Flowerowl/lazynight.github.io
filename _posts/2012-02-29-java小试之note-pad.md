---
title: Java小试之Note Pad
author: Flowerowl
layout: post
permalink: /1325.html
duoshuo_thread_id:
  - 1266960
views:
  - 788
bot_views:
  - 6
categories:
  - Java
  - 代码
---
昨天听年级主任将Java，感觉不是一般的爽，花了一晚加今儿一天，把高中毕业买的Java学习笔记翻出来看了一遍，对着后边的例子写了一下。  
收货颇丰，爽哉爽哉。  
虽然选了.NET，不过每周可以听主任的一节Java，非常荣幸。  
[<img class="aligncenter size-full wp-image-1326" title="java" src="http://lazynight.me/wp-content/uploads/2012/02/java.gif" alt="" width="640" height="480" />][1]

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #000000; background-color: #f9f7ed;">
  <span style="color: #808080;">001 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.BorderLayout</span>;<br /> <span style="color: #808080;">002 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.Container</span>;<br /> <span style="color: #808080;">003 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.Font</span>;<br /> <span style="color: #808080;">004 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.InputEvent</span>;<br /> <span style="color: #f810b0;">005 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.KeyEvent</span>;<br /> <span style="color: #808080;">006 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.WindowAdapter</span>;<br /> <span style="color: #808080;">007 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.WindowEvent</span>;<br /> <span style="color: #808080;">008 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.ActionListener</span>;<br /> <span style="color: #808080;">009 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.KeyAdapter</span>;<br /> <span style="color: #f810b0;">010 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.MouseAdapter</span>;<br /> <span style="color: #808080;">011 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.ActionEvent</span>;<br /> <span style="color: #808080;">012 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.awt.event.MouseEvent</span>;<br /> <span style="color: #808080;">013 </span><br /> <span style="color: #808080;">014 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.BorderFactory</span>;<br /> <span style="color: #f810b0;">015 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JFrame</span>;<br /> <span style="color: #808080;">016 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JLabel</span>;<br /> <span style="color: #808080;">017 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JMenu</span>;<br /> <span style="color: #808080;">018 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JMenuBar</span>;<br /> <span style="color: #808080;">019 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JMenuItem</span>;<br /> <span style="color: #f810b0;">020 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JPopupMenu</span>;<br /> <span style="color: #808080;">021 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JScrollPane</span>;<br /> <span style="color: #808080;">022 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JTextArea</span>;<br /> <span style="color: #808080;">023 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.KeyStroke</span>;<br /> <span style="color: #808080;">024 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.ScrollPaneConstants</span>;<br /> <span style="color: #f810b0;">025 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.SwingConstants</span>;<br /> <span style="color: #808080;">026 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JOptionPane</span>;<br /> <span style="color: #808080;">027 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">javax.swing.JFileChooser</span>;<br /> <span style="color: #808080;">028 </span><br /> <span style="color: #808080;">029 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.io.BufferedReader</span>;<br /> <span style="color: #f810b0;">030 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.io.FileReader</span>;<br /> <span style="color: #808080;">031 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.io.IOException</span>;<br /> <span style="color: #808080;">032 </span> <span style="color: #000000;">import</span> <span style="color: #0e84b5; font-weight: bold;">java.io.*</span>;<br /> <span style="color: #808080;">033 </span><br /> <span style="color: #808080;">034 </span> <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #008000; font-weight: bold;">class</span> <span style="color: #b00060; font-weight: bold;">JNotePadUI</span> <span style="color: #008000; font-weight: bold;">extends</span> <span style="color: #000000;">JFrame</span><span style="color: #303030;">{</span><br /> <span style="color: #f810b0;">035 </span><br /> <span style="color: #808080;">036 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuOpen</span>;<br /> <span style="color: #808080;">037 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuSave</span>;<br /> <span style="color: #808080;">038 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuSaveAs</span>;<br /> <span style="color: #808080;">039 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuClose</span>;<br /> <span style="color: #f810b0;">040 </span><br /> <span style="color: #808080;">041 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenu</span> <span style="color: #000000;">editMenu</span>;<br /> <span style="color: #808080;">042 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuCut</span>;<br /> <span style="color: #808080;">043 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuCopy</span>;<br /> <span style="color: #808080;">044 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuPaste</span>;<br /> <span style="color: #f810b0;">045 </span><br /> <span style="color: #808080;">046 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JMenuItem</span> <span style="color: #000000;">menuAbout</span>;<br /> <span style="color: #808080;">047 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JTextArea</span> <span style="color: #000000;">textArea</span>;<br /> <span style="color: #808080;">048 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JPopupMenu</span> <span style="color: #000000;">popUpMenu</span>;<br /> <span style="color: #808080;">049 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JFileChooser</span> <span style="color: #000000;">fileChooser</span>;<br /> <span style="color: #f810b0;">050 </span><br /> <span style="color: #808080;">051 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #000000;">JLabel</span> <span style="color: #000000;">stateBar</span>;<br /> <span style="color: #808080;">052 </span><br /> <span style="color: #808080;">053 </span><br /> <span style="color: #808080;">054 </span> <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #0060b0; font-weight: bold;">JNotePadUI</span><span style="color: #303030;">(){</span><br /> <span style="color: #f810b0;">055 </span>    <span style="color: #008000; font-weight: bold;">super</span>(<span style="background-color: #fff0f0;">&#8220;新建文本文件&#8221;</span>);<br /> <span style="color: #808080;">056 </span>    <span style="color: #000000;">setUpUIComponent</span>();<br /> <span style="color: #808080;">057 </span>    <span style="color: #000000;">setUpEventListener</span>();<br /> <span style="color: #808080;">058 </span>    <span style="color: #000000;">setVisible</span>(<span style="color: #008000; font-weight: bold;">true</span>);<br /> <span style="color: #808080;">059 </span> <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">060 </span><br /> <span style="color: #808080;">061 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">setUpUIComponent</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">062 </span>    <span style="color: #008000; font-weight: bold;">this</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setSize</span>(<span style="color: #0000d0; font-weight: bold;">640</span><span style="color: #303030;">,</span><span style="color: #0000d0; font-weight: bold;">480</span>);<br /> <span style="color: #808080;">063 </span><br /> <span style="color: #808080;">064 </span>    <span style="color: #808080;">//菜单栏</span><br /> <span style="color: #f810b0;">065 </span>    <span style="color: #000000;">JMenuBar</span> <span style="color: #000000;">menuBar</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuBar</span>();<br /> <span style="color: #808080;">066 </span><br /> <span style="color: #808080;">067 </span>    <span style="color: #808080;">//设置文件菜单</span><br /> <span style="color: #808080;">068 </span>    <span style="color: #000000;">JMenu</span> <span style="color: #000000;">fileMenu</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenu</span>(<span style="background-color: #fff0f0;">&#8220;文件&#8221;</span>);<br /> <span style="color: #808080;">069 </span>    <span style="color: #000000;">menuOpen</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;打开&#8221;</span>);<br /> <span style="color: #f810b0;">070 </span>    <span style="color: #808080;">//快捷键设置</span><br /> <span style="color: #808080;">071 </span>    <span style="color: #000000;">menuOpen</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #808080;">072 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<br /> <span style="color: #808080;">073 </span>      <span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_O</span><span style="color: #303030;">,</span><span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">074 </span>    <span style="color: #000000;">menuSave</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;保存&#8221;</span>);<br /> <span style="color: #f810b0;">075 </span>    <span style="color: #000000;">menuOpen</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #808080;">076 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<br /> <span style="color: #808080;">077 </span>      <span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_S</span><span style="color: #303030;">,</span><span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">078 </span>    <span style="color: #000000;">menuSaveAs</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;另存为&#8221;</span>);<br /> <span style="color: #808080;">079 </span><br /> <span style="color: #f810b0;">080 </span>    <span style="color: #000000;">menuClose</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;关闭&#8221;</span>);<br /> <span style="color: #808080;">081 </span>    <span style="color: #000000;">menuClose</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #808080;">082 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<br /> <span style="color: #808080;">083 </span>      <span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_O</span><span style="color: #303030;">,</span><span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">084 </span><br /> <span style="color: #f810b0;">085 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuOpen</span>);<br /> <span style="color: #808080;">086 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addSeparator</span>();<span style="color: #808080;">//分隔线</span><br /> <span style="color: #808080;">087 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuSave</span>);<br /> <span style="color: #808080;">088 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuSaveAs</span>);<br /> <span style="color: #808080;">089 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addSeparator</span>();<br /> <span style="color: #f810b0;">090 </span>    <span style="color: #000000;">fileMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuClose</span>);<br /> <span style="color: #808080;">091 </span><br /> <span style="color: #808080;">092 </span>    <span style="color: #808080;">//设置&#8221;编辑菜单&#8221;</span><br /> <span style="color: #808080;">093 </span>    <span style="color: #000000;">editMenu</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenu</span>(<span style="background-color: #fff0f0;">&#8220;编辑&#8221;</span>);<br /> <span style="color: #808080;">094 </span>    <span style="color: #000000;">menuCut</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;剪切&#8221;</span>);<br /> <span style="color: #f810b0;">095 </span>    <span style="color: #000000;">menuCut</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #808080;">096 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_X</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">097 </span>      <span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">098 </span>    <span style="color: #000000;">menuCopy</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;复制&#8221;</span>);<br /> <span style="color: #808080;">099 </span>    <span style="color: #000000;">menuCopy</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #f810b0;">100 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_C</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">101 </span>      <span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">102 </span>    <span style="color: #000000;">menuPaste</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;粘贴&#8221;</span>);<br /> <span style="color: #808080;">103 </span>    <span style="color: #000000;">menuPaste</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setAccelerator</span>(<br /> <span style="color: #808080;">104 </span>     <span style="color: #000000;">KeyStroke</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getKeyStroke</span>(<span style="color: #000000;">KeyEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VK_V</span><span style="color: #303030;">,</span><br /> <span style="color: #f810b0;">105 </span>      <span style="color: #000000;">InputEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CTRL_MASK</span>));<br /> <span style="color: #808080;">106 </span>    <span style="color: #000000;">editMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuCut</span>);<br /> <span style="color: #808080;">107 </span>    <span style="color: #000000;">editMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuCopy</span>);<br /> <span style="color: #808080;">108 </span>    <span style="color: #000000;">editMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuPaste</span>);<br /> <span style="color: #808080;">109 </span><br /> <span style="color: #f810b0;">110 </span>    <span style="color: #808080;">//设置&#8221;关于&#8221;菜单栏</span><br /> <span style="color: #808080;">111 </span>    <span style="color: #000000;">JMenu</span> <span style="color: #000000;">aboutMenu</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenu</span>(<span style="background-color: #fff0f0;">&#8220;关于&#8221;</span>);<br /> <span style="color: #808080;">112 </span>    <span style="color: #000000;">menuAbout</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JMenuItem</span>(<span style="background-color: #fff0f0;">&#8220;Lazy Note&#8221;</span>);<br /> <span style="color: #808080;">113 </span>    <span style="color: #000000;">aboutMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">menuAbout</span>);<br /> <span style="color: #808080;">114 </span><br /> <span style="color: #f810b0;">115 </span>    <span style="color: #000000;">menuBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">fileMenu</span>);<br /> <span style="color: #808080;">116 </span>    <span style="color: #000000;">menuBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">editMenu</span>);<br /> <span style="color: #808080;">117 </span>    <span style="color: #000000;">menuBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">aboutMenu</span>);<br /> <span style="color: #808080;">118 </span><br /> <span style="color: #808080;">119 </span>    <span style="color: #808080;">//设置菜单栏</span><br /> <span style="color: #f810b0;">120 </span>    <span style="color: #000000;">setJMenuBar</span>(<span style="color: #000000;">menuBar</span>);<br /> <span style="color: #808080;">121 </span><br /> <span style="color: #808080;">122 </span>    <span style="color: #808080;">//文字编辑区域</span><br /> <span style="color: #808080;">123 </span>    <span style="color: #000000;">textArea</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JTextArea</span>();<br /> <span style="color: #808080;">124 </span>    <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setFont</span>(<span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">Font</span>(<span style="background-color: #fff0f0;">&#8220;宋体&#8221;</span><span style="color: #303030;">,</span><span style="color: #000000;">Font</span><span style="color: #303030;">.</span><span style="color: #0000c0;">PLAIN</span><span style="color: #303030;">,</span><span style="color: #0000d0; font-weight: bold;">16</span>));<br /> <span style="color: #f810b0;">125 </span>    <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setLineWrap</span>(<span style="color: #008000; font-weight: bold;">true</span>);<br /> <span style="color: #808080;">126 </span>    <span style="color: #000000;">JScrollPane</span> <span style="color: #000000;">panel</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JScrollPane</span>(<span style="color: #000000;">textArea</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">127 </span>     <span style="color: #000000;">ScrollPaneConstants</span><span style="color: #303030;">.</span><span style="color: #0000c0;">VERTICAL_SCROLLBAR_AS_NEEDED</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">128 </span>     <span style="color: #000000;">ScrollPaneConstants</span><span style="color: #303030;">.</span><span style="color: #0000c0;">HORIZONTAL_SCROLLBAR_NEVER</span>);<br /> <span style="color: #808080;">129 </span><br /> <span style="color: #f810b0;">130 </span>    <span style="color: #000000;">Container</span> <span style="color: #000000;">contentPane</span> <span style="color: #303030;">=</span> <span style="color: #000000;">getContentPane</span>();<br /> <span style="color: #808080;">131 </span>    <span style="color: #000000;">contentPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">panel</span><span style="color: #303030;">,</span><span style="color: #000000;">BorderLayout</span><span style="color: #303030;">.</span><span style="color: #0000c0;">CENTER</span>);<br /> <span style="color: #808080;">132 </span><br /> <span style="color: #808080;">133 </span>    <span style="color: #808080;">//状态栏</span><br /> <span style="color: #808080;">134 </span>    <span style="color: #000000;">stateBar</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JLabel</span>(<span style="background-color: #fff0f0;">&#8220;未修改&#8221;</span>);<br /> <span style="color: #f810b0;">135 </span>    <span style="color: #000000;">stateBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setHorizontalAlignment</span>(<span style="color: #000000;">SwingConstants</span><span style="color: #303030;">.</span><span style="color: #0000c0;">LEFT</span>);<br /> <span style="color: #808080;">136 </span>    <span style="color: #000000;">stateBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setBorder</span>(<br /> <span style="color: #808080;">137 </span>     <span style="color: #000000;">BorderFactory</span><span style="color: #303030;">.</span><span style="color: #0000c0;">createEtchedBorder</span>());<br /> <span style="color: #808080;">138 </span>    <span style="color: #000000;">contentPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">add</span>(<span style="color: #000000;">stateBar</span><span style="color: #303030;">,</span><span style="color: #000000;">BorderLayout</span><span style="color: #303030;">.</span><span style="color: #0000c0;">SOUTH</span>);<br /> <span style="color: #808080;">139 </span><br /> <span style="color: #f810b0;">140 </span>    <span style="color: #000000;">popUpMenu</span> <span style="color: #303030;">=</span> <span style="color: #000000;">editMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getPopupMenu</span>();<br /> <span style="color: #808080;">141 </span><br /> <span style="color: #808080;">142 </span>    <span style="color: #000000;">fileChooser</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">JFileChooser</span>();<br /> <span style="color: #808080;">143 </span> <span style="color: #303030;">}</span><br /> <span style="color: #808080;">144 </span><br /> <span style="color: #f810b0;">145 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">setUpEventListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">146 </span>    <span style="color: #808080;">//单击窗口关闭按钮事件处理</span><br /> <span style="color: #808080;">147 </span>    <span style="color: #000000;">addWindowListener</span>(<br /> <span style="color: #808080;">148 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">WindowAdapter</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">149 </span><br /> <span style="color: #f810b0;">150 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">windowClosing</span>(<span style="color: #000000;">WindowEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">151 </span>       <span style="color: #000000;">closeFile</span>();<br /> <span style="color: #808080;">152 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">153 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">154 </span>    );<br /> <span style="color: #f810b0;">155 </span><br /> <span style="color: #808080;">156 </span>    <span style="color: #808080;">//菜单——打开</span><br /> <span style="color: #808080;">157 </span>    <span style="color: #000000;">menuOpen</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">158 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">159 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #f810b0;">160 </span>       <span style="color: #000000;">openFile</span>();<br /> <span style="color: #808080;">161 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">162 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">163 </span>    );<br /> <span style="color: #808080;">164 </span><br /> <span style="color: #f810b0;">165 </span>    <span style="color: #808080;">//菜单——保存</span><br /> <span style="color: #808080;">166 </span>    <span style="color: #000000;">menuSave</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">167 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">168 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">169 </span>       <span style="color: #000000;">saveFile</span>();<br /> <span style="color: #f810b0;">170 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">171 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">172 </span>    );<br /> <span style="color: #808080;">173 </span><br /> <span style="color: #808080;">174 </span>    <span style="color: #808080;">//菜单——另存为</span><br /> <span style="color: #f810b0;">175 </span>    <span style="color: #000000;">menuSaveAs</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">176 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">177 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">178 </span>       <span style="color: #000000;">saveFileAs</span>();<br /> <span style="color: #808080;">179 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">180 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">181 </span>    );<br /> <span style="color: #808080;">182 </span><br /> <span style="color: #808080;">183 </span>    <span style="color: #808080;">//菜单——关闭文件</span><br /> <span style="color: #808080;">184 </span>    <span style="color: #000000;">menuClose</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #f810b0;">185 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">186 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">187 </span>       <span style="color: #000000;">closeFile</span>();<br /> <span style="color: #808080;">188 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">189 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">190 </span>    );<br /> <span style="color: #808080;">191 </span><br /> <span style="color: #808080;">192 </span>    <span style="color: #808080;">//菜单——剪切</span><br /> <span style="color: #808080;">193 </span>    <span style="color: #000000;">menuCut</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">194 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #f810b0;">195 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">196 </span>       <span style="color: #000000;">cut</span>();<br /> <span style="color: #808080;">197 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">198 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">199 </span>    );<br /> <span style="color: #f810b0;">200 </span><br /> <span style="color: #808080;">201 </span>    <span style="color: #808080;">//菜单——复制</span><br /> <span style="color: #808080;">202 </span>    <span style="color: #000000;">menuCopy</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">203 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">204 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #f810b0;">205 </span>       <span style="color: #000000;">copy</span>();<br /> <span style="color: #808080;">206 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">207 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">208 </span>    );<br /> <span style="color: #808080;">209 </span><br /> <span style="color: #f810b0;">210 </span>    <span style="color: #808080;">//菜单——粘贴</span><br /> <span style="color: #808080;">211 </span>    <span style="color: #000000;">menuPaste</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">212 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">213 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">214 </span>       <span style="color: #000000;">paste</span>();<br /> <span style="color: #f810b0;">215 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">216 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">217 </span>    );<br /> <span style="color: #808080;">218 </span><br /> <span style="color: #808080;">219 </span>    <span style="color: #808080;">//菜单——关于</span><br /> <span style="color: #f810b0;">220 </span>    <span style="color: #000000;">menuAbout</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addActionListener</span>(<br /> <span style="color: #808080;">221 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">ActionListener</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">222 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">actionPerformed</span>(<span style="color: #000000;">ActionEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">223 </span>       <span style="color: #808080;">//显示对话框</span><br /> <span style="color: #808080;">224 </span>       <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showOptionDialog</span>(<span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><br /> <span style="color: #f810b0;">225 </span>        <span style="background-color: #fff0f0;">&#8221; Lazy Note \n&#8221;</span><span style="color: #303030;">+</span><br /> <span style="color: #808080;">226 </span>        <span style="background-color: #fff0f0;">&#8220;http://lazynight.me/&#8221;</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">227 </span>        <span style="background-color: #fff0f0;">&#8220;关于 Lazy Note&#8221;</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">228 </span>        <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">DEFAULT_OPTION</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">229 </span>        <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">INFORMATION_MESSAGE</span><span style="color: #303030;">,</span><br /> <span style="color: #f810b0;">230 </span>        <span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #008000; font-weight: bold;">null</span>);<br /> <span style="color: #808080;">231 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">232 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">233 </span>    );<br /> <span style="color: #808080;">234 </span><br /> <span style="color: #f810b0;">235 </span>    <span style="color: #808080;">//编辑区键盘事件</span><br /> <span style="color: #808080;">236 </span>    <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addKeyListener</span>(<br /> <span style="color: #808080;">237 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">KeyAdapter</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">238 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">keyTyped</span>(<span style="color: #000000;">KeyEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">239 </span>       <span style="color: #000000;">processTextArea</span>();<br /> <span style="color: #f810b0;">240 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">241 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">242 </span>    );<br /> <span style="color: #808080;">243 </span><br /> <span style="color: #808080;">244 </span>    <span style="color: #808080;">//编辑区鼠标事件</span><br /> <span style="color: #f810b0;">245 </span>    <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">addMouseListener</span>(<br /> <span style="color: #808080;">246 </span>     <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">MouseAdapter</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">247 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">mouseReleased</span>(<span style="color: #000000;">MouseEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">248 </span>       <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getButton</span>() <span style="color: #303030;">==</span> <span style="color: #000000;">MouseEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">BUTTON3</span>)<br /> <span style="color: #808080;">249 </span>        <span style="color: #000000;">popUpMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">show</span>(<span style="color: #000000;">editMenu</span><span style="color: #303030;">,</span><span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getX</span><span style="color: #303030;">(),</span><span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getY</span>());<br /> <span style="color: #f810b0;">250 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">251 </span>      <span style="color: #008000; font-weight: bold;">public</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">mouseClicker</span>(<span style="color: #000000;">MouseEvent</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">252 </span>       <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getButton</span>() <span style="color: #303030;">==</span> <span style="color: #000000;">MouseEvent</span><span style="color: #303030;">.</span><span style="color: #0000c0;">BUTTON1</span>)<br /> <span style="color: #808080;">253 </span>        <span style="color: #000000;">popUpMenu</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setVisible</span>(<span style="color: #008000; font-weight: bold;">false</span>);<br /> <span style="color: #808080;">254 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">255 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">256 </span>    );<br /> <span style="color: #808080;">257 </span><br /> <span style="color: #808080;">258 </span> <span style="color: #303030;">}</span><br /> <span style="color: #808080;">259 </span><br /> <span style="color: #f810b0;">260 </span><br /> <span style="color: #808080;">261 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">openFile</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">262 </span>    <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">isCurrentFileSaved</span><span style="color: #303030;">()){</span><span style="color: #808080;">//文件是否为保存状态</span><br /> <span style="color: #808080;">263 </span>     <span style="color: #000000;">open</span>();<span style="color: #808080;">//打开</span><br /> <span style="color: #808080;">264 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">265 </span>    <span style="color: #008000; font-weight: bold;">else</span><span style="color: #303030;">{</span><br /> <span style="color: #808080;">266 </span>     <span style="color: #808080;">//显示对话框</span><br /> <span style="color: #808080;">267 </span>     <span style="color: #303090; font-weight: bold;">int</span> <span style="color: #000000;">option</span> <span style="color: #303030;">=</span> <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showConfirmDialog</span>(<br /> <span style="color: #808080;">268 </span>       <span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="background-color: #fff0f0;">&#8220;文件已修改，是否保存&#8221;</span><span style="color: #303030;">,</span><br /> <span style="color: #808080;">269 </span>       <span style="background-color: #fff0f0;">&#8220;保存文件？&#8221;</span><span style="color: #303030;">,</span><span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">YES_NO_OPTION</span><span style="color: #303030;">,</span><br /> <span style="color: #f810b0;">270 </span>       <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">WARNING_MESSAGE</span><span style="color: #303030;">,</span><span style="color: #008000; font-weight: bold;">null</span>);<br /> <span style="color: #808080;">271 </span>     <span style="color: #008000; font-weight: bold;">switch</span>(<span style="color: #000000;">option</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">272 </span>      <span style="color: #808080;">//确认文件保存</span><br /> <span style="color: #808080;">273 </span>      <span style="color: #008000; font-weight: bold;">case</span> <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">YES_OPTION</span><span style="color: #303030;">:</span><br /> <span style="color: #808080;">274 </span>       <span style="color: #000000;">saveFile</span>();<span style="color: #808080;">//保存文件</span><br /> <span style="color: #f810b0;">275 </span>       <span style="color: #008000; font-weight: bold;">break</span>;<br /> <span style="color: #808080;">276 </span>      <span style="color: #808080;">//放弃文件保存</span><br /> <span style="color: #808080;">277 </span>      <span style="color: #008000; font-weight: bold;">case</span> <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">NO_OPTION</span><span style="color: #303030;">:</span><br /> <span style="color: #808080;">278 </span>       <span style="color: #000000;">open</span>();<br /> <span style="color: #808080;">279 </span>       <span style="color: #008000; font-weight: bold;">break</span>;<br /> <span style="color: #f810b0;">280 </span><br /> <span style="color: #808080;">281 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">282 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #808080;">283 </span> <span style="color: #303030;">}</span><br /> <span style="color: #808080;">284 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">open</span><span style="color: #303030;">(){</span><br /> <span style="color: #f810b0;">285 </span>    <span style="color: #808080;">//fileChooser是JFileChoose的实例</span><br /> <span style="color: #808080;">286 </span>    <span style="color: #808080;">//显示文件选取的对话框</span><br /> <span style="color: #808080;">287 </span>    <span style="color: #303090; font-weight: bold;">int</span> <span style="color: #000000;">option</span> <span style="color: #303030;">=</span> <span style="color: #000000;">fileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showDialog</span>(<span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #008000; font-weight: bold;">null</span>);<br /> <span style="color: #808080;">288 </span><br /> <span style="color: #808080;">289 </span>    <span style="color: #808080;">//用户单击“确认”按钮</span><br /> <span style="color: #f810b0;">290 </span>    <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">option</span> <span style="color: #303030;">==</span> <span style="color: #000000;">JFileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">APPROVE_OPTION</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">291 </span>     <span style="color: #008000; font-weight: bold;">try</span><span style="color: #303030;">{</span><br /> <span style="color: #808080;">292 </span>      <span style="color: #808080;">//打开选取的文件</span><br /> <span style="color: #808080;">293 </span>      <span style="color: #000000;">BufferedReader</span> <span style="color: #000000;">buf</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">BufferedReader</span>(<br /> <span style="color: #808080;">294 </span>       <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">BufferedReader</span>(<br /> <span style="color: #f810b0;">295 </span>        <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">FileReader</span>(<br /> <span style="color: #808080;">296 </span>         <span style="color: #000000;">fileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getSelectedFile</span>())));<br /> <span style="color: #808080;">297 </span><br /> <span style="color: #808080;">298 </span>      <span style="color: #808080;">//设置文件标题</span><br /> <span style="color: #808080;">299 </span>      <span style="color: #000000;">setTitle</span>(<span style="color: #000000;">fileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getSelectedFile</span><span style="color: #303030;">().</span><span style="color: #0000c0;">toString</span>());<br /> <span style="color: #f810b0;">300 </span>      <span style="color: #808080;">//删除前一次文件</span><br /> <span style="color: #808080;">301 </span>      <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setText</span>(<span style="background-color: #fff0f0;">&#8220;&#8221;</span>);<br /> <span style="color: #808080;">302 </span>      <span style="color: #808080;">//设置状态栏</span><br /> <span style="color: #808080;">303 </span>      <span style="color: #000000;">stateBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setText</span>(<span style="background-color: #fff0f0;">&#8220;未修改&#8221;</span>);<br /> <span style="color: #808080;">304 </span>      <span style="color: #808080;">//取得系统相依的换行字符</span><br /> <span style="color: #f810b0;">305 </span>      <span style="color: #000000;">String</span> <span style="color: #000000;">lineSeparator</span> <span style="color: #303030;">=</span> <span style="color: #000000;">System</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getProperty</span>(<span style="background-color: #fff0f0;">&#8220;line.separator&#8221;</span>);<br /> <span style="color: #808080;">306 </span>      <span style="color: #808080;">//读取文件并附加至文字编辑区</span><br /> <span style="color: #808080;">307 </span>      <span style="color: #000000;">String</span> <span style="color: #000000;">text</span>;<br /> <span style="color: #808080;">308 </span>      <span style="color: #008000; font-weight: bold;">while</span>((<span style="color: #000000;">text</span> <span style="color: #303030;">=</span> <span style="color: #000000;">buf</span><span style="color: #303030;">.</span><span style="color: #0000c0;">readLine</span>()) <span style="color: #303030;">!=</span> <span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">309 </span>       <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">append</span>(<span style="color: #000000;">text</span>);<br /> <span style="color: #f810b0;">310 </span>       <span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">append</span>(<span style="color: #000000;">lineSeparator</span>);<br /> <span style="color: #808080;">311 </span>      <span style="color: #303030;">}</span><br /> <span style="color: #808080;">312 </span>      <span style="color: #000000;">buf</span><span style="color: #303030;">.</span><span style="color: #0000c0;">close</span>();<br /> <span style="color: #808080;">313 </span><br /> <span style="color: #808080;">314 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">315 </span>     <span style="color: #008000; font-weight: bold;">catch</span>(<span style="color: #000000;">IOException</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">316 </span>      <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showMessageDialog</span>(<span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">toString</span><span style="color: #303030;">(),</span><br /> <span style="color: #808080;">317 </span>       <span style="background-color: #fff0f0;">&#8220;开启文件失败&#8221;</span><span style="color: #303030;">,</span><span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">ERROR_MESSAGE</span>);<br /> <span style="color: #808080;">318 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">319 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">320 </span> <span style="color: #303030;">}</span><br /> <span style="color: #808080;">321 </span><br /> <span style="color: #808080;">322 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">boolean</span> <span style="color: #0060b0; font-weight: bold;">isCurrentFileSaved</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">323 </span>    <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">stateBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getText</span><span style="color: #303030;">().</span><span style="color: #0000c0;">equals</span>(<span style="background-color: #fff0f0;">&#8220;已修改&#8221;</span><span style="color: #303030;">)){</span><br /> <span style="color: #808080;">324 </span>     <span style="color: #008000; font-weight: bold;">return</span> <span style="color: #008000; font-weight: bold;">false</span>;<br /> <span style="color: #f810b0;">325 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #808080;">326 </span>    <span style="color: #008000; font-weight: bold;">else</span><span style="color: #303030;">{</span><br /> <span style="color: #808080;">327 </span>     <span style="color: #008000; font-weight: bold;">return</span> <span style="color: #008000; font-weight: bold;">true</span>;<br /> <span style="color: #808080;">328 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #808080;">329 </span> <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">330 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">saveFile</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">331 </span>    <span style="color: #808080;">//从标题栏取得文件名称</span><br /> <span style="color: #808080;">332 </span>    <span style="color: #000000;">File</span> <span style="color: #000000;">file</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">File</span>(<span style="color: #000000;">getTitle</span>());<br /> <span style="color: #808080;">333 </span><br /> <span style="color: #808080;">334 </span>    <span style="color: #808080;">//若指定的文件不存在</span><br /> <span style="color: #f810b0;">335 </span>    <span style="color: #008000; font-weight: bold;">if</span><span style="color: #303030;">(!</span><span style="color: #000000;">file</span><span style="color: #303030;">.</span><span style="color: #0000c0;">exists</span><span style="color: #303030;">()){</span><br /> <span style="color: #808080;">336 </span>     <span style="color: #808080;">//执行另存为</span><br /> <span style="color: #808080;">337 </span>     <span style="color: #000000;">saveFileAs</span>();<br /> <span style="color: #808080;">338 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #808080;">339 </span>    <span style="color: #008000; font-weight: bold;">else</span><span style="color: #303030;">{</span><br /> <span style="color: #f810b0;">340 </span>     <span style="color: #008000; font-weight: bold;">try</span><span style="color: #303030;">{</span><br /> <span style="color: #808080;">341 </span>      <span style="color: #808080;">//打开指定的文件</span><br /> <span style="color: #808080;">342 </span>      <span style="color: #000000;">BufferedWriter</span> <span style="color: #000000;">buf</span> <span style="color: #303030;">=</span> <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #000000;">BufferedWriter</span>(<br /> <span style="color: #808080;">343 </span>       <span style="color: #008000; font-weight: bold;">new</span> <span style="color: #0060b0; font-weight: bold;">FileWriter</span>(<span style="color: #000000;">file</span>));<br /> <span style="color: #808080;">344 </span>      <span style="color: #808080;">//将文字编辑区的文字写入文件</span><br /> <span style="color: #f810b0;">345 </span>      <span style="color: #000000;">buf</span><span style="color: #303030;">.</span><span style="color: #0000c0;">write</span>(<span style="color: #000000;">textArea</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getText</span>());<br /> <span style="color: #808080;">346 </span>      <span style="color: #000000;">buf</span><span style="color: #303030;">.</span><span style="color: #0000c0;">close</span>();<br /> <span style="color: #808080;">347 </span>      <span style="color: #808080;">//设置状态栏为未修改</span><br /> <span style="color: #808080;">348 </span>      <span style="color: #000000;">stateBar</span><span style="color: #303030;">.</span><span style="color: #0000c0;">setText</span>(<span style="background-color: #fff0f0;">&#8220;未修改&#8221;</span>);<br /> <span style="color: #808080;">349 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">350 </span>     <span style="color: #008000; font-weight: bold;">catch</span>(<span style="color: #000000;">IOException</span> <span style="color: #000000;">e</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">351 </span>      <span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showMessageDialog</span>(<span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #000000;">e</span><span style="color: #303030;">.</span><span style="color: #0000c0;">toString</span><span style="color: #303030;">(),</span><br /> <span style="color: #808080;">352 </span>       <span style="background-color: #fff0f0;">&#8220;写入文件失败&#8221;</span><span style="color: #303030;">,</span><span style="color: #000000;">JOptionPane</span><span style="color: #303030;">.</span><span style="color: #0000c0;">ERROR_MESSAGE</span>);<br /> <span style="color: #808080;">353 </span>     <span style="color: #303030;">}</span><br /> <span style="color: #808080;">354 </span>    <span style="color: #303030;">}</span><br /> <span style="color: #f810b0;">355 </span> <span style="color: #303030;">}</span><br /> <span style="color: #808080;">356 </span><br /> <span style="color: #808080;">357 </span> <span style="color: #008000; font-weight: bold;">private</span> <span style="color: #303090; font-weight: bold;">void</span> <span style="color: #0060b0; font-weight: bold;">saveFileAs</span><span style="color: #303030;">(){</span><br /> <span style="color: #808080;">358 </span>    <span style="color: #808080;">//显示文件对话框</span><br /> <span style="color: #808080;">359 </span>    <span style="color: #303090; font-weight: bold;">int</span> <span style="color: #000000;">option</span> <span style="color: #303030;">=</span> <span style="color: #000000;">fileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">showDialog</span>(<span style="color: #008000; font-weight: bold;">null</span><span style="color: #303030;">,</span><span style="color: #008000; font-weight: bold;">null</span>);<br /> <span style="color: #f810b0;">360 </span><br /> <span style="color: #808080;">361 </span>    <span style="color: #808080;">//如果确认选取文件</span><br /> <span style="color: #808080;">362 </span>    <span style="color: #008000; font-weight: bold;">if</span>(<span style="color: #000000;">option</span> <span style="color: #303030;">==</span> <span style="color: #000000;">JFileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">APPROVE_OPTION</span><span style="color: #303030;">){</span><br /> <span style="color: #808080;">363 </span>     <span style="color: #808080;">//取得选择的文件</span><br /> <span style="color: #808080;">364 </span>     <span style="color: #000000;">File</span> <span style="color: #000000;">file</span> <span style="color: #303030;">=</span> <span style="color: #000000;">fileChooser</span><span style="color: #303030;">.</span><span style="color: #0000c0;">getSelectedFile</span>();<br /> <span style="color: #f810b0;">365 </span><br /> <span style="color: #808080;">366 </span>     <span style="color: #808080;">//在标题栏上设置文件名称</span><br /> <span style="color: #808080;">367 </span>     <span style="color: #000000;">setTitle</span>(<span style="color: #000000;">file</span><span style="color: #303030;">.</span><span style="color: #0000c0;">toString</span>());<br /> <span style="color: #808080;">368 </span><br /> <span style="color: #808080;">369 </span>     <span style="color: #008000; font-weight: bold;">try</span><span style="color: #303030;">{</span><br /> <span style="color: #f810b0;">370 </span>      <span style="color: #808080;">//建立文件</span><br /> <span style="color: #808080;">371 </span>      <span style="color: #000000;">file</span><span style="color: #303030;">.</span><span style="color: #0000c0;"></p> <p>
    转载请注明：<a href="http://localhost/wordpress">于哲的博客</a> &raquo; <a href="http://localhost/wordpress/1325.html">Java小试之Note Pad</a>
  </p>

 [1]: http://lazynight.me/wp-content/uploads/2012/02/java.gif