---
title: 'C#每天抄一点(30):MP3播放器'
author: Flowerowl
layout: post
permalink: /709.html
duoshuo_thread_id:
  - 1266890
views:
  - 791
bot_views:
  - 3
categories:
  - 'C#'
  - 代码
---
<span style="color: #ff6600;">关于 File和Fileinfo</span>  
File 类用于典型的操作，如复制、移动、重命名、创建、打开、删除和追加到文件。也可将 File 类用于获取和设置文件属性或有关文件创建、访问及写入操作的 DateTime 信息。

许多 File 方法在您创建或打开文件时返回其他 I/O 类型。可以使用这些其他类型进一步处理文件。  
由于所有的 File 方法都是静态的，所以如果只想执行一个操作，那么使用 File 方法的效率比使用相应的 FileInfo 实例方法可能更高。所有的 File 方法都要求当前所操作的文件的路径。

File 类的静态方法对所有方法都执行安全检查。如果打算多次重用某个对象，可考虑改用 FileInfo 的相应实例方法，因为并不总是需要安全检查。

File类的任何公共静态成员都是线程安全的，但不保证所有实例成员都是线程安全的.

FileInfo 类用于典型的操作，如复制、移动、重命名、创建、打开、删除和追加到文件。如果打算多次重用某个对象，可考虑使用 FileInfo 的实例方法，而不是 File 类的相应静态方法，因为并不总是需要安全检查。

FileInfo 类的任何公共静态成员也都是线程安全的，但不保证所有实例成员都是线程安全的。

Fileinfo可序列化，File不行。

FileInfo需要new ，File不用new。

<span style="color: #ff0000;"><a href="http://msdn.microsoft.com/zh-cn/library/system.io.fileinfo(v=VS.100).aspx" target="_blank"><span style="color: #ff0000;">FileInfo详情（带老子去MSDN）</span></a></span>

<span style="color: #ff6600;">DirectoryInfo</span>

公开用于创建、移动和枚举目录和子目录的实例方法。 此类不能被继承。

.NET内建类型中提供了FileInfo和DirectoryInfo俩个类型，分别用来操作文件和文件夹，有别于File和Directory类型，FileInfo和DirectoryInfo主要功能在于操作文件和文件夹在文件系统中的结构，完成诸如：创建，复制，读取信息，移动，判断是否存在，删除等功能。

<span style="color: #ff6600;"> Remove和RemoveAt</span>  
有两种方法可以删除DataRow,Delete方法和Remove方法和RemoveAt方法。其区别是Delete方法实际上不是从DataTable中删除掉一行，而是将其标志为删除，仅仅是做个记号，而Remove方法则是真正的从DataRow中删除一行，RemoveAt方法是根本行的索引来删除。

要移除的元素的从零开始的索引。

<img class="aligncenter size-full wp-image-711" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111028171658.jpg" alt="" width="462" height="247" />

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">001</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">002</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">003</span> <span style="color: #696969;"> * 用户： Lazynight</span><br /> <span style="color: #696969;">004</span> <span style="color: #696969;"> * 日期: 2011/10/28</span><br /> <span style="color: #f810b0;">005</span> <span style="color: #696969;"> * 时间: 6:35</span><br /> <span style="color: #696969;">006</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">007</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">008</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">009</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">010</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">011</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">012</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">013</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.IO</span>;<br /> <span style="color: #696969;">014</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy30_MP3</span><span style="color: #c0c0c0;">播放器</span><br /> <span style="color: #f810b0;">015</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">016</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">017</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">018</span>         <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #ffffff;">string</span><span style="color: #c0c0c0;">[]</span> <span style="color: #c0c0c0;">Lazy_list</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">String</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">5000</span><span style="color: #c0c0c0;">];</span><br /> <span style="color: #696969;">019</span>         <span style="color: #696969;">//字符串数组 </span><br /> <span style="color: #f810b0;">020</span>         <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">Lazy_num</span>;<br /> <span style="color: #696969;">021</span>         <span style="color: #696969;">//MP3歌曲数量</span><br /> <span style="color: #696969;">022</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #696969;">023</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">024</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #f810b0;">025</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">026</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button1Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">027</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">028</span>             <span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Filter</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;*.mp3|*.mp3&#8243;</span>;<br /> <span style="color: #696969;">029</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ShowDialog</span><span style="color: #c0c0c0;">()==</span><span style="color: #c0c0c0;">DialogResult</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">OK</span>)<br /> <span style="color: #f810b0;">030</span>                 <span style="color: #696969;">//调用打开对话框</span><br /> <span style="color: #696969;">031</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">032</span>                 <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">path</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">openFileDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FileName</span>;<br /> <span style="color: #696969;">033</span>                 <span style="color: #696969;">//获取文件路径</span><br /> <span style="color: #696969;">034</span>                 <span style="color: #c0c0c0;">FileInfo</span> <span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">FileInfo</span>(<span style="color: #c0c0c0;">path</span>);<br /> <span style="color: #f810b0;">035</span>                 <span style="color: #696969;">//初始化 FileInfo 类的新实例，它作为文件路径的包装</span><br /> <span style="color: #696969;">036</span>                 <span style="color: #c0c0c0;">AddFile</span>(<span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FullName</span>);<br /> <span style="color: #696969;">037</span>                 <span style="color: #696969;">//获取文件的完整目录</span><br /> <span style="color: #696969;">038</span>                 <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">Lazy_str</span> <span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToString</span>(<span style="color: #c0c0c0;">Lazy_num</span>);<br /> <span style="color: #696969;">039</span>                 <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">1</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">5</span><span style="color: #c0c0c0;">-</span><span style="color: #c0c0c0;">Lazy_str</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Length</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #f810b0;">040</span>                     <span style="color: #c0c0c0;">Lazy_str</span><span style="color: #c0c0c0;">+=</span><span style="color: #d13800;">&#8220;  &#8220;</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Name</span>;<br /> <span style="color: #696969;">041</span>                 <span style="color: #696969;">//统一化显示文件名，加序号</span><br /> <span style="color: #696969;">042</span>                 <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Items</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Add</span>(<span style="color: #c0c0c0;">Lazy_str</span>);<br /> <span style="color: #696969;">043</span>                 <span style="color: #696969;">//在列表框显示添加的歌曲</span><br /> <span style="color: #696969;">044</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">045</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">046</span><br /> <span style="color: #696969;">047</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button2Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">048</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">049</span>             <span style="color: #c0c0c0;">folderBrowserDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedPath</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;d:\\&#8221;</span>;<br /> <span style="color: #f810b0;">050</span>             <span style="color: #696969;">//设置初始打开路径</span><br /> <span style="color: #696969;">051</span>             <span style="color: #c0c0c0;">folderBrowserDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ShowNewFolderButton</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">true</span>;<br /> <span style="color: #696969;">052</span>             <span style="color: #696969;">//显示“新建文件夹”按钮;</span><br /> <span style="color: #696969;">053</span>             <span style="color: #c0c0c0;">folderBrowserDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Description</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;请选择音乐文件目录&#8221;</span>;<br /> <span style="color: #696969;">054</span>             <span style="color: #c0c0c0;">folderBrowserDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ShowDialog</span>();<br /> <span style="color: #f810b0;">055</span>             <span style="color: #696969;">//显示对话框</span><br /> <span style="color: #696969;">056</span>             <span style="color: #c0c0c0;">AddFiles</span>(<span style="color: #c0c0c0;">folderBrowserDialog1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedPath</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">listBox1</span>);<br /> <span style="color: #696969;">057</span>             <span style="color: #696969;">//调用AddFiles方法</span><br /> <span style="color: #696969;">058</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">059</span><br /> <span style="color: #f810b0;">060</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button3Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">061</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">062</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span><span style="color: #c0c0c0;">>=</span><span style="color: #c0c0c0;"></span>)<br /> <span style="color: #696969;">063</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">064</span>                 <span style="color: #c0c0c0;">DelFile</span>(<span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span>);<br /> <span style="color: #f810b0;">065</span>                 <span style="color: #696969;">//调用DelFile方法</span><br /> <span style="color: #696969;">066</span>                 <span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Items</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">RemoveAt</span>(<span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span>);<br /> <span style="color: #696969;">067</span>                 <span style="color: #696969;">//删除listbox对应记录</span><br /> <span style="color: #696969;">068</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">069</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">070</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">AddFile</span>(<span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">path</span>)<br /> <span style="color: #696969;">071</span>             <span style="color: #696969;">//自定义AddFile方法</span><br /> <span style="color: #696969;">072</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">073</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">Lazy_num</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">5000</span>)<br /> <span style="color: #696969;">074</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">075</span>                 <span style="color: #c0c0c0;">Lazy_num</span><span style="color: #c0c0c0;">++;</span><br /> <span style="color: #696969;">076</span>                 <span style="color: #696969;">//累加MP3数目</span><br /> <span style="color: #696969;">077</span>                 <span style="color: #c0c0c0;">Lazy_list</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">Lazy_num</span><span style="color: #c0c0c0;">]=</span><span style="color: #c0c0c0;">path</span>;<br /> <span style="color: #696969;">078</span>                 <span style="color: #696969;">//MP3文件地址数组</span><br /> <span style="color: #696969;">079</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">080</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">081</span>         <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">AddFiles</span>(<span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">path</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">ListBox</span> <span style="color: #c0c0c0;">listbox1</span>)<br /> <span style="color: #696969;">082</span>             <span style="color: #696969;">//自定义AddFiles方法</span><br /> <span style="color: #696969;">083</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">084</span>             <span style="color: #c0c0c0;">DirectoryInfo</span> <span style="color: #c0c0c0;">dir</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">DirectoryInfo</span>(<span style="color: #c0c0c0;">path</span>);<br /> <span style="color: #f810b0;">085</span>             <span style="color: #696969;">//在指定的路径中初始化 DirectoryInfo 类的新实例</span><br /> <span style="color: #696969;">086</span>             <span style="color: #ff4400; font-weight: bold;">foreach</span>(<span style="color: #c0c0c0;">FileInfo</span> <span style="color: #c0c0c0;">f</span> <span style="color: #ff4400; font-weight: bold;">in</span> <span style="color: #c0c0c0;">dir</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetFiles</span>(<span style="color: #d13800;">&#8220;*.mp3&#8243;</span>))<br /> <span style="color: #696969;">087</span>                 <span style="color: #696969;">//获取当前目录的MP3文件列表</span><br /> <span style="color: #696969;">088</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">089</span>                 <span style="color: #c0c0c0;">AddFile</span>(<span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FullName</span>);<br /> <span style="color: #f810b0;">090</span>                 <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">Lazy_str</span> <span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Convert</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ToString</span>(<span style="color: #c0c0c0;">Lazy_num</span>);<br /> <span style="color: #696969;">091</span>                 <span style="color: #c0c0c0;">Lazy_str</span><span style="color: #c0c0c0;">+=</span><span style="color: #d13800;">&#8220;  &#8220;</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Name</span>;<br /> <span style="color: #696969;">092</span>                 <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Items</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Add</span>(<span style="color: #c0c0c0;">Lazy_str</span>);<br /> <span style="color: #696969;">093</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">094</span>             <span style="color: #ff4400; font-weight: bold;">foreach</span>(<span style="color: #c0c0c0;">DirectoryInfo</span> <span style="color: #c0c0c0;">f</span> <span style="color: #ff4400; font-weight: bold;">in</span> <span style="color: #c0c0c0;">dir</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetDirectories</span>())<br /> <span style="color: #f810b0;">095</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">096</span>                 <span style="color: #c0c0c0;">AddFiles</span>(<span style="color: #c0c0c0;">f</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">FullName</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">listBox1</span>);<br /> <span style="color: #696969;">097</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">098</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">099</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">DelFile</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">selectNum</span>)<br /> <span style="color: #f810b0;">100</span>             <span style="color: #696969;">//自定义DelFile方法</span><br /> <span style="color: #696969;">101</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">102</span>             <span style="color: #ff4400; font-weight: bold;">for</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">selectNum</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">Lazy_num</span><span style="color: #c0c0c0;">-</span><span style="color: #c0c0c0;">1</span>;<span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">++)</span><br /> <span style="color: #696969;">103</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">104</span>                 <span style="color: #c0c0c0;">Lazy_list</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">]=</span><span style="color: #c0c0c0;">Lazy_list</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">i</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">1</span><span style="color: #c0c0c0;">];</span><br /> <span style="color: #f810b0;">105</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">106</span>             <span style="color: #c0c0c0;">Lazy_num</span><span style="color: #c0c0c0;">&#8211;;</span><br /> <span style="color: #696969;">107</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">108</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">PlaySong</span>(<span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">selectNum</span>)<br /> <span style="color: #696969;">109</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">110</span>             <span style="color: #c0c0c0;">axWindowsMediaPlayer1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">URL</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Lazy_list</span><span style="color: #c0c0c0;">[</span><span style="color: #c0c0c0;">selectNum</span><span style="color: #c0c0c0;">];</span><br /> <span style="color: #696969;">111</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">112</span><br /> <span style="color: #696969;">113</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">ListBox1SelectedIndexChanged</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">114</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">115</span>             <span style="color: #ffffff;">int</span> <span style="color: #c0c0c0;">SelectOne</span>;<br /> <span style="color: #696969;">116</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;"></span>)<br /> <span style="color: #696969;">117</span>                 <span style="color: #c0c0c0;">SelectOne</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">1</span>;<br /> <span style="color: #696969;">118</span>             <span style="color: #ff4400; font-weight: bold;">else</span><br /> <span style="color: #696969;">119</span>                 <span style="color: #c0c0c0;">SelectOne</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">1</span>;<br /> <span style="color: #f810b0;">120</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Items</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Count</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;"></span>)<br /> <span style="color: #696969;">121</span>                 <span style="color: #c0c0c0;">listBox1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SelectedIndex</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;"></span>;<br /> <span style="color: #696969;">122</span>             <span style="color: #c0c0c0;">PlaySong</span>(<span style="color: #c0c0c0;">SelectOne</span>);<br /> <span style="color: #696969;">123</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">124</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">125</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy30_MP3-64ad-653e-5668.rar/.page" target="_blank"><span style="color: #ff6600;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(30):MP3播放器][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/709.html