---
title: 'C#每天抄一点(9)：T型窗口'
author: Flowerowl
layout: post
permalink: /433.html
duoshuo_thread_id:
  - 1266840
views:
  - 684
bot_views:
  - 2
categories:
  - 'C#'
  - 代码
---
  
这几天一直在写关于窗口的小程序，没办法， 掌握多一些方法以绝后患。

今天这个是利用数组定点实现不规则形状窗口。

<span style="color: #ff0000;">关于AddPolygon</span>

GraphicsPath.AddPolygon 方法 (PointF[])

向此路径添加多边形。

命名空间: System.Drawing.Drawing2D

程序集: System.Drawing（在 system.drawing.dll 中）

一个 PointF 结构的数组，它定义要添加的多边形。

points 数组中的点指定多边形的顶点。如果数组中的第一个点与最后一个点不是同一点，则将连接这两个点以闭合多边形。

<pre></pre>

<img class="aligncenter size-full wp-image-435" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111011190207.jpg" alt="" width="433" height="535" />

<pre></pre>

&nbsp;

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"> * Created by SharpDevelop.</span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"> * User: Lazynight</span><br /> <span style="color: #696969;">04</span> <span style="color: #696969;"> * Date: 2011/10/11</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #696969;"> * Time: 18:35</span><br /> <span style="color: #696969;">06</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">07</span> <span style="color: #696969;"> * To change this template use Tools | Options | Coding | Edit Standard Headers.</span><br /> <span style="color: #696969;">08</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">09</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">10</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">11</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">13</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing.Drawing2D</span>;<br /> <span style="color: #696969;">14</span><br /> <span style="color: #f810b0;">15</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">Lazy9_T</span><span style="color: #c0c0c0;">型窗口</span><br /> <span style="color: #696969;">16</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">17</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span> <span style="color: #c0c0c0;">:</span> <span style="color: #c0c0c0;">Form</span><br /> <span style="color: #696969;">18</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">19</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #f810b0;">20</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">21</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">22</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">23</span><br /> <span style="color: #696969;">24</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">MainFormLoad</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #f810b0;">25</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">26</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Left</span><span style="color: #c0c0c0;">=(</span><span style="color: #c0c0c0;">SystemInformation</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">PrimaryMonitorMaximizedWindowSize</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">-</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">)/</span><span style="color: #c0c0c0;">2</span>;<br /> <span style="color: #696969;">27</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Top</span><span style="color: #c0c0c0;">=(</span><span style="color: #c0c0c0;">SystemInformation</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">PrimaryMonitorMaximizedWindowSize</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">-</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">)/</span><span style="color: #c0c0c0;">2</span>;<span style="color: #696969;">//初始化窗口位置居中</span><br /> <span style="color: #696969;">28</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">29</span><br /> <span style="color: #f810b0;">30</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">Button1Click</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">31</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">32</span>             <span style="color: #c0c0c0;">GraphicsPath</span> <span style="color: #c0c0c0;">Lazy_Form1</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">GraphicsPath</span>();<span style="color: #696969;">//实例化GraphicsPath</span><br /> <span style="color: #696969;">33</span>             <span style="color: #c0c0c0;">Point</span><span style="color: #c0c0c0;">[]</span> <span style="color: #c0c0c0;">Lazy_array</span><span style="color: #c0c0c0;">=</span>        <span style="color: #696969;">//定义点数组</span><br /> <span style="color: #696969;">34</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">35</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #c0c0c0;"></span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;"></span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">36</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;"></span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">37</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">38</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">-(</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">3</span><span style="color: #c0c0c0;">),</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">39</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">-(</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">3</span><span style="color: #c0c0c0;">),</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #f810b0;">40</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">3</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">41</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Width</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">3</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">42</span>                 <span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #ffff00;">Point</span>(<span style="color: #c0c0c0;"></span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Height</span><span style="color: #c0c0c0;">/</span><span style="color: #c0c0c0;">2</span><span style="color: #c0c0c0;">),</span><br /> <span style="color: #696969;">43</span>             <span style="color: #c0c0c0;">};</span><br /> <span style="color: #696969;">44</span>             <span style="color: #c0c0c0;">Lazy_Form1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">AddPolygon</span>(<span style="color: #c0c0c0;">Lazy_array</span>);  <span style="color: #696969;">//利用数组绘制T型窗口</span><br /> <span style="color: #f810b0;">45</span>             <span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Region</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Region</span>(<span style="color: #c0c0c0;">Lazy_Form1</span>);<br /> <span style="color: #696969;">46</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">47</span><br /> <span style="color: #696969;">48</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">49</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff0000;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy9_T-578b-7a97-53e3.rar/.page" target="_blank"><span style="color: #ff0000;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [C#每天抄一点(9)：T型窗口][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/433.html