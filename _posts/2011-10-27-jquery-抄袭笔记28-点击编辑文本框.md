---
title: jQuery 抄袭笔记(28) :点击编辑文本框
author: Flowerowl
layout: post
permalink: /702.html
duoshuo_thread_id:
  - 1266889
views:
  - 1143
bot_views:
  - 3
categories:
  - jQuery
  - 代码
---
<span style="color: #ff6600;">saveChanges</span>

function saveChanges（obj,cancel）{&#8230;}<a name="baidusnap2"></a>

如果cancle是false的话，那就意味着要保存编辑后的内容

<span style="color: #ff6600;">siblings() </span>

siblings() 获得匹配集合中每个元素的同胞，通过选择器进行筛选是可选的。

<img class="aligncenter size-full wp-image-706" title="Lazynight | 夜阑" src="http://lazynight.me/wp-content/uploads/2011/10/20111028062536.jpg" alt="" width="420" height="398" />

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #c0c0c0;"><!</span><span style="color: #c0c0c0;">DOCTYPE</span> <span style="color: #c0c0c0;">html</span> <span style="color: #c0c0c0;">PUBLIC</span> <span style="color: #d13800;">&#8220;-//W3C//DTD XHTML 1.0 Strict//EN&#8221;</span><br /> <span style="color: #696969;">02</span> <span style="color: #d13800;">&#8220;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&#8221;</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #696969;">03</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">html</span> <span style="color: #c0c0c0;">xmlns</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;http://www.w3.org/1999/xhtml&#8221;</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #696969;">04</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">head</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #f810b0;">05</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">meta</span> <span style="color: #c0c0c0;">http</span><span style="color: #c0c0c0;">-</span><span style="color: #c0c0c0;">equiv</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;Content-Type&#8221;</span> <span style="color: #c0c0c0;">content</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;text/html; charset=gb2312&#8243;</span> <span style="color: #c0c0c0;">/></span><br /> <span style="color: #696969;">06</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">title</span><span style="color: #c0c0c0;">></span><span style="color: #c0c0c0;">Hello</span> <span style="color: #c0c0c0;">Lazynight</span><span style="color: #c0c0c0;">~~<</span><span style="color: #c0c0c0;">/title></span><br /> <span style="color: #696969;">07</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">script</span> <span style="color: #c0c0c0;">type</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;text/javascript&#8221;</span> <span style="color: #c0c0c0;">src</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;jquery-1.1.3.pack.js&#8221;</span><span style="color: #c0c0c0;">><</span><span style="color: #c0c0c0;">/script></span><br /> <span style="color: #696969;">08</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">script</span> <span style="color: #c0c0c0;">language</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;JavaScript&#8221;</span> <span style="color: #c0c0c0;">type</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;text/javascript&#8221;</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #696969;">09</span> <span style="color: #c0c0c0;">$</span>(<span style="color: #c0c0c0;">document</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">ready</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><br /> <span style="color: #f810b0;">10</span> <span style="color: #c0c0c0;">Lazy_edit</span>();<br /> <span style="color: #696969;">11</span> <span style="color: #c0c0c0;">});</span><br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">function</span> <span style="color: #c0c0c0;">Lazy_edit</span><span style="color: #c0c0c0;">(){</span><br /> <span style="color: #696969;">13</span> <span style="color: #c0c0c0;">$</span>(<span style="color: #d13800;">&#8220;#Lazy_edit&#8221;</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">click</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><br /> <span style="color: #696969;">14</span>     <span style="color: #ff4400; font-weight: bold;">var</span> <span style="color: #c0c0c0;">textarea</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8216;<div><textarea class=&#8221;textarea&#8221; row=&#8221;100&#8243; cols=&#8221;60&#8243;>&#8217;</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">$</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">html</span>()<span style="color: #c0c0c0;">+</span><span style="color: #d13800;">&#8216;</textarea>&#8217;</span>;<br /> <span style="color: #f810b0;">15</span>     <span style="color: #ff4400; font-weight: bold;">var</span> <span style="color: #c0c0c0;">button</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8216;<div><input type=&#8221;button&#8221; value=&#8221;保存&#8221; class=&#8221;saveButton&#8221;/> / <input type=&#8221;button&#8221; value=&#8221;取消&#8221; class=&#8221;cancelButton&#8221;/></div></div>&#8217;</span>;<br /> <span style="color: #696969;">16</span>     <span style="color: #ff4400; font-weight: bold;">var</span> <span style="color: #c0c0c0;">revert</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">$</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">html</span>();<br /> <span style="color: #696969;">17</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">after</span>(<span style="color: #c0c0c0;">textarea</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">button</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">remove</span>();<br /> <span style="color: #696969;">18</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #d13800;">&#8216;.saveButton&#8217;</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">click</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><span style="color: #c0c0c0;">saveChanges</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">,</span><span style="color: #ff4400; font-weight: bold;">false</span><span style="color: #c0c0c0;">);});</span><br /> <span style="color: #696969;">19</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #d13800;">&#8216;.cancelButton&#8217;</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">click</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><span style="color: #c0c0c0;">saveChanges</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">revert</span><span style="color: #c0c0c0;">);});</span><br /> <span style="color: #f810b0;">20</span> <span style="color: #c0c0c0;">}).</span><span style="color: #c0c0c0;">mouseover</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><br /> <span style="color: #696969;">21</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">addClass</span>(<span style="color: #d13800;">&#8220;editable&#8221;</span>);<br /> <span style="color: #696969;">22</span> <span style="color: #c0c0c0;">}).</span><span style="color: #c0c0c0;">mouseout</span>(<span style="color: #ff4400; font-weight: bold;">function</span><span style="color: #c0c0c0;">(){</span><br /> <span style="color: #696969;">23</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #ff4400; font-weight: bold;">this</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">removeClass</span>(<span style="color: #d13800;">&#8220;editable&#8221;</span>);<br /> <span style="color: #696969;">24</span> <span style="color: #c0c0c0;">});</span><br /> <span style="color: #f810b0;">25</span> <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">26</span> <span style="color: #ff4400; font-weight: bold;">function</span> <span style="color: #c0c0c0;">saveChanges</span>(<span style="color: #c0c0c0;">obj</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">cancel</span><span style="color: #c0c0c0;">){</span><br /> <span style="color: #696969;">27</span>     <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">!</span><span style="color: #c0c0c0;">cancel</span><span style="color: #c0c0c0;">){</span><br /> <span style="color: #696969;">28</span>         <span style="color: #ff4400; font-weight: bold;">var</span> <span style="color: #c0c0c0;">t</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">$</span>(<span style="color: #c0c0c0;">obj</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">parent</span><span style="color: #c0c0c0;">().</span><span style="color: #c0c0c0;">siblings</span>(<span style="color: #c0c0c0;"></span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">val</span>();<br /> <span style="color: #696969;">29</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">30</span>     <span style="color: #ff4400; font-weight: bold;">else</span><span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">31</span>         <span style="color: #ff4400; font-weight: bold;">var</span> <span style="color: #c0c0c0;">t</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">cancel</span>;<br /> <span style="color: #696969;">32</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">33</span>     <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">t</span><span style="color: #c0c0c0;">==</span><span style="color: #d13800;">&#8221;</span>) <span style="color: #c0c0c0;">t</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8216;(点我编辑~)&#8217;</span>;<br /> <span style="color: #696969;">34</span>     <span style="color: #c0c0c0;">$</span>(<span style="color: #c0c0c0;">obj</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">parent</span><span style="color: #c0c0c0;">().</span><span style="color: #c0c0c0;">parent</span><span style="color: #c0c0c0;">().</span><span style="color: #c0c0c0;">after</span>(<span style="color: #d13800;">&#8216;<div id=&#8221;Lazy_edit&#8221;>&#8217;</span><span style="color: #c0c0c0;">+</span><span style="color: #c0c0c0;">t</span><span style="color: #c0c0c0;">+</span><span style="color: #d13800;">&#8216;</div>&#8217;</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">remove</span>();<br /> <span style="color: #f810b0;">35</span>     <span style="color: #c0c0c0;">Lazy_edit</span>();<br /> <span style="color: #696969;">36</span> <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">37</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/script></span><br /> <span style="color: #696969;">38</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">style</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #696969;">39</span> <span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">textarea</span>    <span style="color: #c0c0c0;">{</span><span style="color: #c0c0c0;">background</span><span style="color: #c0c0c0;">-</span><span style="color: #c0c0c0;">color</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">#</span><span style="color: #c0c0c0;">000</span>;  <span style="color: #c0c0c0;">color</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">#</span><span style="color: #c0c0c0;">fff</span>;<span style="color: #c0c0c0;">width</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">400</span><span style="color: #c0c0c0;">px</span>;<span style="color: #c0c0c0;">height</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">300</span><span style="color: #c0c0c0;">px</span>;<span style="color: #c0c0c0;">border</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">1</span><span style="color: #c0c0c0;">px</span> <span style="color: #c0c0c0;">dashed</span>;    <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">40</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/style></span><br /> <span style="color: #696969;">41</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/head></span><br /> <span style="color: #696969;">42</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">body</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #696969;">43</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">h1</span><span style="color: #c0c0c0;">></span><span style="color: #c0c0c0;">Lazy_edit</span> <span style="color: #ff4400; font-weight: bold;">with</span> <span style="color: #c0c0c0;">jQuery</span><span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/h1></span><br /> <span style="color: #696969;">44</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">div</span> <span style="color: #c0c0c0;">id</span><span style="color: #c0c0c0;">=</span><span style="color: #d13800;">&#8220;Lazy_edit&#8221;</span><span style="color: #c0c0c0;">></span><br /> <span style="color: #f810b0;">45</span> <span style="color: #c0c0c0;">点我编辑</span><span style="color: #c0c0c0;">~</span><br /> <span style="color: #696969;">46</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/div></span><br /> <span style="color: #696969;">47</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/body></span><br /> <span style="color: #696969;">48</span> <span style="color: #c0c0c0;"><</span><span style="color: #c0c0c0;">/html></span>
</div>

<span style="color: #ff6600;"><a href="http://down.qiannao.com/space/file/flowerowl/-4e0a-4f20-5206-4eab/Lazy28_-70b9-51fb-7f16-8f91-6587-672c-6846.rar/.page" target="_blank"><span style="color: #ff6600;">下载源码</span></a></span>

转载请注明：[于哲的博客][1] &raquo; [jQuery 抄袭笔记(28) :点击编辑文本框][2]

 [1]: http://localhost/wordpress
 [2]: http://localhost/wordpress/702.html