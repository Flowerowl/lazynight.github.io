---
title: 'WeifenLuo.WinFormsUI.Docking.dll之保存界面布局（C#）'
author: Flowerowl
layout: post
permalink: /1193.html
duoshuo_thread_id:
  - 1266949
views:
  - 1520
bot_views:
  - 2
categories:
  - 'C#'
  - 代码
tags:
  - WeifenLuo.WinFormsUI.Docking.dll
---
之前用WeifenLuo.WinFormsUI.Docking.dll布局学生管理系统，由于当时时间紧，没涉及到布局保存，今儿把代码贴出来，供日后引用。

引用之后会在程序目录自动生成DockPanel.config文件，可通过修改此文件改变布局。

<span style="color: #ff6600;">下载<a href="http://dl.dbank.com/c0c7apew3u" target="_blank"><span style="color: #ff6600;">源</span></a>码</span>

<span style="color: #ff6600;">布局：</span>

[<img class="aligncenter size-full wp-image-1195" title="123123123" src="http://lazynight.me/wp-content/uploads/2012/02/123123123.jpg" alt="" width="791" height="451" />][1]

<span style="color: #ff6600;">代码：</span>

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #696969;">/*</span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"> * 由SharpDevelop创建。</span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"> * 用户： Flowerowl</span><br /> <span style="color: #696969;">04</span> <span style="color: #696969;"> * 日期: 2012/2/5</span><br /> <span style="color: #f810b0;">05</span> <span style="color: #696969;"> * 时间: 14:28</span><br /> <span style="color: #696969;">06</span> <span style="color: #696969;"> * </span><br /> <span style="color: #696969;">07</span> <span style="color: #696969;"> * 要改变这种模板请点击 工具|选项|代码编写|编辑标准头文件</span><br /> <span style="color: #696969;">08</span> <span style="color: #696969;"> */</span><br /> <span style="color: #696969;">09</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System</span>;<br /> <span style="color: #f810b0;">10</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Collections.Generic</span>;<br /> <span style="color: #696969;">11</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Drawing</span>;<br /> <span style="color: #696969;">12</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.Windows.Forms</span>;<br /> <span style="color: #696969;">13</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">WeifenLuo.WinFormsUI.Docking</span>;<br /> <span style="color: #696969;">14</span> <span style="color: #ff4400; font-weight: bold;">using</span> <span style="color: #c0c0c0;">System.IO</span>;<br /> <span style="color: #f810b0;">15</span> <span style="color: #ff4400; font-weight: bold;">namespace</span> <span style="color: #c0c0c0;">weifenluo_config</span><br /> <span style="color: #696969;">16</span> <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">17</span>     <span style="color: #696969;">/// <summary></span><br /> <span style="color: #696969;">18</span>     <span style="color: #696969;">/// Description of MainForm.</span><br /> <span style="color: #696969;">19</span>     <span style="color: #696969;">/// </summary></span><br /> <span style="color: #f810b0;">20</span>     <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ff4400; font-weight: bold;">partial</span> <span style="color: #ff4400; font-weight: bold;">class</span> <span style="color: #c0c0c0;">MainForm</span><span style="color: #c0c0c0;">:</span><span style="color: #c0c0c0;">WeifenLuo</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">WinFormsUI</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Docking</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">DockContent</span><br /> <span style="color: #696969;">21</span>     <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">22</span>         <span style="color: #ff4400; font-weight: bold;">public</span> <span style="color: #ffff00;">MainForm</span>()<br /> <span style="color: #696969;">23</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">24</span><br /> <span style="color: #f810b0;">25</span>             <span style="color: #c0c0c0;">InitializeComponent</span>();<br /> <span style="color: #696969;">26</span><br /> <span style="color: #696969;">27</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">28</span>           <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #ffffff;">bool</span> <span style="color: #c0c0c0;">z_SaveLayout</span><span style="color: #c0c0c0;">=</span> <span style="color: #ff4400; font-weight: bold;">true</span>;<br /> <span style="color: #696969;">29</span>           <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #c0c0c0;">DeserializeDockContent</span>   <span style="color: #c0c0c0;">z_deserializeDockContent</span>;<br /> <span style="color: #f810b0;">30</span>           <span style="color: #c0c0c0;">Form1</span> <span style="color: #c0c0c0;">z</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Form1</span>();<br /> <span style="color: #696969;">31</span>           <span style="color: #c0c0c0;">Form2</span> <span style="color: #c0c0c0;">x</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Form2</span>();<br /> <span style="color: #696969;">32</span>           <span style="color: #c0c0c0;">Form3</span> <span style="color: #c0c0c0;">y</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">Form3</span>();<br /> <span style="color: #696969;">33</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">MainFormLoad</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">EventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">34</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">35</span><br /> <span style="color: #696969;">36</span><br /> <span style="color: #696969;">37</span>             <span style="color: #c0c0c0;">z_deserializeDockContent</span><span style="color: #c0c0c0;">=</span><span style="color: #ff4400; font-weight: bold;">new</span> <span style="color: #c0c0c0;">DeserializeDockContent</span>(<span style="color: #c0c0c0;">GetContentFormPersistString</span>);<br /> <span style="color: #696969;">38</span>             <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">configFile</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Path</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Combine</span>(<span style="color: #c0c0c0;">Path</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetDirectoryName</span>(<span style="color: #c0c0c0;">Application</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ExecutablePath</span><span style="color: #c0c0c0;">),</span><span style="color: #d13800;">&#8220;DockPanel.config&#8221;</span>);<br /> <span style="color: #696969;">39</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">File</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Exists</span>(<span style="color: #c0c0c0;">configFile</span>))<br /> <span style="color: #f810b0;">40</span>             <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">41</span>                 <span style="color: #c0c0c0;">dockPanel1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">LoadFromXml</span>(<span style="color: #c0c0c0;">configFile</span><span style="color: #c0c0c0;">,</span><span style="color: #c0c0c0;">z_deserializeDockContent</span>);<br /> <span style="color: #696969;">42</span>             <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">43</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">44</span><br /> <span style="color: #f810b0;">45</span>         <span style="color: #ff4400; font-weight: bold;">void</span> <span style="color: #ffff00;">MainFormFormClosing</span>(<span style="color: #ffffff;">object</span> <span style="color: #c0c0c0;">sender</span><span style="color: #c0c0c0;">,</span> <span style="color: #c0c0c0;">FormClosingEventArgs</span> <span style="color: #c0c0c0;">e</span>)<br /> <span style="color: #696969;">46</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #696969;">47</span>             <span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">configFile</span><span style="color: #c0c0c0;">=</span><span style="color: #c0c0c0;">Path</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Combine</span>(<span style="color: #c0c0c0;">Path</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">GetDirectoryName</span>(<span style="color: #c0c0c0;">Application</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">ExecutablePath</span><span style="color: #c0c0c0;">),</span><span style="color: #d13800;">&#8220;DockPanel.config&#8221;</span>);<br /> <span style="color: #696969;">48</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">z_SaveLayout</span>)<br /> <span style="color: #696969;">49</span>                 <span style="color: #c0c0c0;">dockPanel1</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">SaveAsXml</span>(<span style="color: #c0c0c0;">configFile</span>);<br /> <span style="color: #f810b0;">50</span>             <span style="color: #ff4400; font-weight: bold;">else</span> <span style="color: #ffff00;">if</span>(<span style="color: #c0c0c0;">File</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Exists</span>(<span style="color: #c0c0c0;">configFile</span>))<br /> <span style="color: #696969;">51</span>                 <span style="color: #c0c0c0;">File</span><span style="color: #c0c0c0;">.</span><span style="color: #c0c0c0;">Delete</span>(<span style="color: #c0c0c0;">configFile</span>);<br /> <span style="color: #696969;">52</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">53</span>         <span style="color: #ff4400; font-weight: bold;">private</span> <span style="color: #c0c0c0;">IDockContent</span> <span style="color: #ffff00;">GetContentFormPersistString</span>(<span style="color: #ffffff;">string</span> <span style="color: #c0c0c0;">persistString</span>)<br /> <span style="color: #696969;">54</span>         <span style="color: #c0c0c0;">{</span><br /> <span style="color: #f810b0;">55</span>             <span style="color: #ff4400; font-weight: bold;">if</span>(<span style="color: #c0c0c0;">persistString</span> <span style="color: #c0c0c0;">==</span><span style="color: #ff4400; font-weight: bold;">typeof</span>(<span style="color: #c0c0c0;">Form1</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">ToString</span>())<br /> <span style="color: #696969;">56</span>                 <span style="color: #ff4400; font-weight: bold;">return</span> <span style="color: #c0c0c0;">z</span>;<br /> <span style="color: #696969;">57</span>             <span style="color: #ff4400; font-weight: bold;">else</span> <span style="color: #ffff00;">if</span>(<span style="color: #c0c0c0;">persistString</span><span style="color: #c0c0c0;">==</span><span style="color: #ff4400; font-weight: bold;">typeof</span>(<span style="color: #c0c0c0;">Form2</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">ToString</span>())<br /> <span style="color: #696969;">58</span>                 <span style="color: #ff4400; font-weight: bold;">return</span> <span style="color: #c0c0c0;">x</span>;<br /> <span style="color: #696969;">59</span>             <span style="color: #ff4400; font-weight: bold;">else</span> <span style="color: #ffff00;">if</span>(<span style="color: #c0c0c0;">persistString</span><span style="color: #c0c0c0;">==</span><span style="color: #ff4400; font-weight: bold;">typeof</span>(<span style="color: #c0c0c0;">Form3</span><span style="color: #c0c0c0;">).</span><span style="color: #c0c0c0;">ToString</span>())<br /> <span style="color: #f810b0;">60</span>                 <span style="color: #ff4400; font-weight: bold;">return</span> <span style="color: #c0c0c0;">y</span>;<br /> <span style="color: #696969;">61</span>             <span style="color: #ff4400; font-weight: bold;">else</span><br /> <span style="color: #696969;">62</span>                 <span style="color: #ff4400; font-weight: bold;">return</span> <span style="color: #ff4400; font-weight: bold;">null</span>;<br /> <span style="color: #696969;">63</span>         <span style="color: #c0c0c0;">}</span><br /> <span style="color: #696969;">64</span>     <span style="color: #c0c0c0;">}</span><br /> <span style="color: #f810b0;">65</span> <span style="color: #c0c0c0;">}</span>
</div>

<span style="color: #ff6600;">config文件：</span>

<div class="source" style="font-family: '[object HTMLOptionElement]', Consolas, 'Lucida Console', 'Courier New'; color: #c0c0c0; background-color: #000000;">
  <span style="color: #696969;">01</span> <span style="color: #ffffff;"><?xml version=&#8221;1.0&#8243; encoding=&#8221;utf-16&#8243;?></span><br /> <span style="color: #696969;">02</span> <span style="color: #696969;"><!&#8211;DockPanel configuration file. Author: Weifen Luo, all rights reserved.&#8211;></span><br /> <span style="color: #696969;">03</span> <span style="color: #696969;"><!&#8211;!!! AUTOMATICALLY GENERATED FILE. DO NOT MODIFY !!!&#8211;></span><br /> <span style="color: #696969;">04</span> <span style="color: #ff4400; font-weight: bold;"><DockPanel</span> <span style="color: #ffff00;">FormatVersion=</span><span style="color: #d13800;">&#8220;1.0&#8243;</span> <span style="color: #ffff00;">DockLeftPortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">DockRightPortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">DockTopPortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">DockBottomPortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">ActiveDocumentPane=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">ActivePane=</span><span style="color: #d13800;">&#8220;0&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #f810b0;">05</span>   <span style="color: #ff4400; font-weight: bold;"><Contents</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;3&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">06</span>     <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">PersistString=</span><span style="color: #d13800;">&#8220;weifenluo_config.Form1&#8243;</span> <span style="color: #ffff00;">AutoHidePortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">IsHidden=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ffff00;">IsFloat=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">07</span>     <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;1&#8243;</span> <span style="color: #ffff00;">PersistString=</span><span style="color: #d13800;">&#8220;weifenluo_config.Form2&#8243;</span> <span style="color: #ffff00;">AutoHidePortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">IsHidden=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ffff00;">IsFloat=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">08</span>     <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;2&#8243;</span> <span style="color: #ffff00;">PersistString=</span><span style="color: #d13800;">&#8220;weifenluo_config.Form3&#8243;</span> <span style="color: #ffff00;">AutoHidePortion=</span><span style="color: #d13800;">&#8220;0.25&#8243;</span> <span style="color: #ffff00;">IsHidden=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ffff00;">IsFloat=</span><span style="color: #d13800;">&#8220;False&#8221;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">09</span>   <span style="color: #ff4400; font-weight: bold;"></Contents></span><br /> <span style="color: #f810b0;">10</span>   <span style="color: #ff4400; font-weight: bold;"><Panes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;1&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">11</span>     <span style="color: #ff4400; font-weight: bold;"><Pane</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;Document&#8221;</span> <span style="color: #ffff00;">ActiveContent=</span><span style="color: #d13800;">&#8220;2&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">12</span>       <span style="color: #ff4400; font-weight: bold;"><Contents</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;3&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">13</span>         <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">RefID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">14</span>         <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;1&#8243;</span> <span style="color: #ffff00;">RefID=</span><span style="color: #d13800;">&#8220;1&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #f810b0;">15</span>         <span style="color: #ff4400; font-weight: bold;"><Content</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;2&#8243;</span> <span style="color: #ffff00;">RefID=</span><span style="color: #d13800;">&#8220;2&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">16</span>       <span style="color: #ff4400; font-weight: bold;"></Contents></span><br /> <span style="color: #696969;">17</span>     <span style="color: #ff4400; font-weight: bold;"></Pane></span><br /> <span style="color: #696969;">18</span>   <span style="color: #ff4400; font-weight: bold;"></Panes></span><br /> <span style="color: #696969;">19</span>   <span style="color: #ff4400; font-weight: bold;"><DockWindows></span><br /> <span style="color: #f810b0;">20</span>     <span style="color: #ff4400; font-weight: bold;"><DockWindow</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;Document&#8221;</span> <span style="color: #ffff00;">ZOrderIndex=</span><span style="color: #d13800;">&#8220;0&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">21</span>       <span style="color: #ff4400; font-weight: bold;"><NestedPanes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;1&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">22</span>         <span style="color: #ff4400; font-weight: bold;"><Pane</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">RefID=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ffff00;">PrevPane=</span><span style="color: #d13800;">&#8220;-1&#8243;</span> <span style="color: #ffff00;">Alignment=</span><span style="color: #d13800;">&#8220;Right&#8221;</span> <span style="color: #ffff00;">Proportion=</span><span style="color: #d13800;">&#8220;0.5&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">23</span>       <span style="color: #ff4400; font-weight: bold;"></NestedPanes></span><br /> <span style="color: #696969;">24</span>     <span style="color: #ff4400; font-weight: bold;"></DockWindow></span><br /> <span style="color: #f810b0;">25</span>     <span style="color: #ff4400; font-weight: bold;"><DockWindow</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;1&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;DockLeft&#8221;</span> <span style="color: #ffff00;">ZOrderIndex=</span><span style="color: #d13800;">&#8220;2&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">26</span>       <span style="color: #ff4400; font-weight: bold;"><NestedPanes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">27</span>     <span style="color: #ff4400; font-weight: bold;"></DockWindow></span><br /> <span style="color: #696969;">28</span>     <span style="color: #ff4400; font-weight: bold;"><DockWindow</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;2&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;DockRight&#8221;</span> <span style="color: #ffff00;">ZOrderIndex=</span><span style="color: #d13800;">&#8220;3&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">29</span>       <span style="color: #ff4400; font-weight: bold;"><NestedPanes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #f810b0;">30</span>     <span style="color: #ff4400; font-weight: bold;"></DockWindow></span><br /> <span style="color: #696969;">31</span>     <span style="color: #ff4400; font-weight: bold;"><DockWindow</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;3&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;DockTop&#8221;</span> <span style="color: #ffff00;">ZOrderIndex=</span><span style="color: #d13800;">&#8220;4&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #696969;">32</span>       <span style="color: #ff4400; font-weight: bold;"><NestedPanes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">33</span>     <span style="color: #ff4400; font-weight: bold;"></DockWindow></span><br /> <span style="color: #696969;">34</span>     <span style="color: #ff4400; font-weight: bold;"><DockWindow</span> <span style="color: #ffff00;">ID=</span><span style="color: #d13800;">&#8220;4&#8243;</span> <span style="color: #ffff00;">DockState=</span><span style="color: #d13800;">&#8220;DockBottom&#8221;</span> <span style="color: #ffff00;">ZOrderIndex=</span><span style="color: #d13800;">&#8220;5&#8243;</span><span style="color: #ff4400; font-weight: bold;">></span><br /> <span style="color: #f810b0;">35</span>       <span style="color: #ff4400; font-weight: bold;"><NestedPanes</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">36</span>     <span style="color: #ff4400; font-weight: bold;"></DockWindow></span><br /> <span style="color: #696969;">37</span>   <span style="color: #ff4400; font-weight: bold;"></DockWindows></span><br /> <span style="color: #696969;">38</span>   <span style="color: #ff4400; font-weight: bold;"><FloatWindows</span> <span style="color: #ffff00;">Count=</span><span style="color: #d13800;">&#8220;0&#8243;</span> <span style="color: #ff4400; font-weight: bold;">/></span><br /> <span style="color: #696969;">39</span> <span style="color: #ff4400; font-weight: bold;"></DockPanel></span>
</div>

转载请注明：[于哲的博客][2] &raquo; [WeifenLuo.WinFormsUI.Docking.dll之保存界面布局（C#）][3]

 [1]: http://lazynight.me/wp-content/uploads/2012/02/123123123.jpg
 [2]: http://localhost/wordpress
 [3]: http://localhost/wordpress/1193.html